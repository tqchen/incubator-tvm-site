<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tvm: include/tvm/ir/op.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tvm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b4c7d8e826c599ba55146c099a14beb5.html">tvm</a></li><li class="navelem"><a class="el" href="dir_dc867ff9a37cad1764f1670dc7eba6c1.html">ir</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">op.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ir_2op_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * or more contributor license agreements.  See the NOTICE file</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * distributed with this work for additional information</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * to you under the Apache License, Version 2.0 (the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * with the License.  You may obtain a copy of the License at</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * software distributed under the License is distributed on an</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * KIND, either express or implied.  See the License for the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * specific language governing permissions and limitations</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * under the License.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef TVM_IR_OP_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define TVM_IR_OP_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;dmlc/registry.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ir_2attrs_8h.html">tvm/ir/attrs.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="registry_8h.html">tvm/runtime/registry.h</a>&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ir_2expr_8h.html">tvm/ir/expr.h</a>&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ir_2type_8h.html">tvm/ir/type.h</a>&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="type__relation_8h.html">tvm/ir/type_relation.h</a>&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetvm.html">tvm</a> {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// forward declare name.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html">   43</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1OpMap.html">OpMap</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// TODO(tvm-team): migrate low-level intrinsics to use Op</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html">   59</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classtvm_1_1OpNode.html">OpNode</a> : <span class="keyword">public</span> <a class="code" href="classtvm_1_1RelayExprNode.html">RelayExprNode</a> {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">   62</a></span>&#160;  std::string <a class="code" href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">name</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#adff89c1e3f0aa6798a97fc4461293f7c">   64</a></span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classtvm_1_1FuncType.html">FuncType</a> <a class="code" href="classtvm_1_1OpNode.html#adff89c1e3f0aa6798a97fc4461293f7c">op_type</a>;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a95d402556bd6c710a0b38f50c8e5e3bc">   69</a></span>&#160;  std::string <a class="code" href="classtvm_1_1OpNode.html#a95d402556bd6c710a0b38f50c8e5e3bc">description</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">/* \brief Information of input arguments to the operator */</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#af753e9ea21f09017bb61d5722b2ce181">   71</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;AttrFieldInfo&gt;</a> <a class="code" href="classtvm_1_1OpNode.html#af753e9ea21f09017bb61d5722b2ce181">arguments</a>;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#aedeeca81655fb2bba9e1de79dcd539d1">   76</a></span>&#160;  std::string <a class="code" href="classtvm_1_1OpNode.html#aedeeca81655fb2bba9e1de79dcd539d1">attrs_type_key</a>;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a4b7f1c6f18ede931328377bb8794c1bc">   81</a></span>&#160;  uint32_t <a class="code" href="classtvm_1_1OpNode.html#a4b7f1c6f18ede931328377bb8794c1bc">attrs_type_index</a>{0};</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#aa13505588162bc5448bd03f02f5c545b">   86</a></span>&#160;  int32_t <a class="code" href="classtvm_1_1OpNode.html#aa13505588162bc5448bd03f02f5c545b">num_inputs</a> = -1;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a68a34098b5a111dec5f381cc4a80cb78">   92</a></span>&#160;  int32_t <a class="code" href="classtvm_1_1OpNode.html#a68a34098b5a111dec5f381cc4a80cb78">support_level</a> = 10;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a9a5aacb190b2c4ead60b2810bd9053f4">   94</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1OpNode.html#a9a5aacb190b2c4ead60b2810bd9053f4">VisitAttrs</a>(<a class="code" href="classtvm_1_1AttrVisitor.html">AttrVisitor</a>* v) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;name&quot;</span>, &amp;name);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;op_type&quot;</span>, &amp;op_type);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;description&quot;</span>, &amp;description);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;arguments&quot;</span>, &amp;arguments);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;attrs_type_key&quot;</span>, &amp;attrs_type_key);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;num_inputs&quot;</span>, &amp;num_inputs);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;support_level&quot;</span>, &amp;support_level);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a23237d4a1ca4e21371d5ed0ac3520725">  104</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1OpNode.html#a23237d4a1ca4e21371d5ed0ac3520725">SEqualReduce</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* other, <a class="code" href="classtvm_1_1SEqualReducer.html">SEqualReducer</a> <a class="code" href="namespacetopi.html#ae10e1fb8c765a9ae15c12f45199375b3">equal</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// pointer equality is fine as there is only one op with the same name.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span> == other;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#abe8c1e8f86a4b62187a233174edce575">  109</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1OpNode.html#abe8c1e8f86a4b62187a233174edce575">SHashReduce</a>(<a class="code" href="classtvm_1_1SHashReducer.html">SHashReducer</a> hash_reduce)<span class="keyword"> const </span>{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// Name uniquely identifies an Op.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    hash_reduce(name);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">  119</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">IsPrimitiveOp</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (is_primitive_ != -1) <span class="keywordflow">return</span> is_primitive_ != 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    is_primitive_ = this-&gt;IsPrimitiveOp_() ? 1 : 0;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> is_primitive_ != 0;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a2c50dc0d1b84d52d6da19a6fa3fcabac">  125</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtvm_1_1OpNode.html#a2c50dc0d1b84d52d6da19a6fa3fcabac">_type_key</a> = <span class="stringliteral">&quot;relay.Op&quot;</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classtvm_1_1OpNode.html#ade027d3176f48e7127be6ff08c723306">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1OpNode.html">OpNode</a>, <a class="code" href="classtvm_1_1RelayExprNode.html">RelayExprNode</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// friend class</span></div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#a296d487cd2e3438353e759571270be97">  130</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classtvm_1_1OpNode.html#af7ebaf5af32d51226208f533e6d5cb1d">  131</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">IsPrimitiveOp</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp;);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Program internal unique index of operator.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Used to help index the program.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  uint32_t index_{0};</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// whether this is a primitive op. -1 means unknown.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">mutable</span> <span class="keywordtype">int</span> is_primitive_{-1};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Internal function to compute if it is primitive op</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">bool</span> IsPrimitiveOp_()<span class="keyword"> const </span>{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; fn_ty = this-&gt;<a class="code" href="classtvm_1_1OpNode.html#adff89c1e3f0aa6798a97fc4461293f7c">op_type</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (fn_ty-&gt;type_constraints.size() != 1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtvm_1_1TypeRelationNode.html">TypeRelationNode</a>* rel = fn_ty-&gt;type_constraints[0].as&lt;<a class="code" href="classtvm_1_1TypeRelationNode.html">TypeRelationNode</a>&gt;();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (rel == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// validate if the type parameter matches up</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; fn_ty-&gt;type_params.size(); ++i) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span> (!fn_ty-&gt;type_params[i].same_as(rel-&gt;<a class="code" href="classtvm_1_1TypeRelationNode.html#a4ae12e1df74b0b93404db6a762ef9f3f">args</a>[i])) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html">  156</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1Op.html">Op</a> : <span class="keyword">public</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a> {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#afde3bc925d4d4c7ea09d4da50fc32c66">  159</a></span>&#160;  <a class="code" href="classtvm_1_1Op.html#afde3bc925d4d4c7ea09d4da50fc32c66">Op</a>() {}</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#abaafec14f5f05cc8bd3cdbf99eeb53d5">  161</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1Op.html#abaafec14f5f05cc8bd3cdbf99eeb53d5">Op</a>(ObjectPtr&lt;Object&gt; n) : <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>(n) {}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* operator-&gt;() <span class="keyword">const</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classtvm_1_1OpMap.html">OpMap&lt;ValueType&gt;</a> GetAttr(<span class="keyword">const</span> std::string&amp; attr_name);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> HasAttr(<span class="keyword">const</span> std::string&amp; attr_name);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  TVM_DLL <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; Get(<span class="keyword">const</span> std::string&amp; op_name);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#a03bdb10e7fe5aac4e638523ab030c1e4">  191</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1OpNode.html">ContainerType</a> = <a class="code" href="namespacetvm_1_1relay.html#ac9d4f2cf78a48659817a88d890e1d142">OpNode</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  TVM_DLL <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a>&amp; GetGenericAttr(<span class="keyword">const</span> std::string&amp; key);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  TVM_DLL <span class="keyword">static</span> <span class="keywordtype">bool</span> HasGenericAttr(<span class="keyword">const</span> std::string&amp; key);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;};</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html">  212</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a> {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a381093d9c0d1177baef90f4b25828e21">  215</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a381093d9c0d1177baef90f4b25828e21">op</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> op_; }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; describe(<span class="keyword">const</span> std::string&amp; descr);  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span>  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; add_argument(<span class="keyword">const</span> std::string&amp; name,</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                  <span class="keyword">const</span> std::string&amp; type,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                  <span class="keyword">const</span> std::string&amp; description);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; add_type_rel(</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keyword">const</span> std::string&amp; rel_name,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="classtvm_1_1runtime_1_1TypedPackedFunc.html">runtime::TypedPackedFunc</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;Type&gt;</a>&amp;,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                    <span class="keywordtype">int</span>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classtvm_1_1Attrs.html">Attrs</a>&amp;,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classtvm_1_1TypeReporter.html">TypeReporter</a>&amp;)&gt; type_rel_func);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> AttrsType&gt;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; set_attrs_type();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; set_num_inputs(int32_t n);  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; set_support_level(int32_t level);  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; set_attr(<span class="keyword">const</span> std::string&amp; attr_name,  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                              <span class="keyword">const</span> ValueType&amp; value, <span class="keywordtype">int</span> plevel = 10);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> reset_attr(<span class="keyword">const</span> std::string&amp; attr_name);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// set the name of the op to be the same as registry</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a1b08766909281904cb0006682fc7b04e">  289</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a1b08766909281904cb0006682fc7b04e">set_name</a>() {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">get</span>()-&gt;name.length() == 0) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keyword">get</span>()-&gt;name = name;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  TVM_DLL static ::dmlc::Registry&lt;OpRegistry&gt;* Registry();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a956426f929f055cff95af38d41ed8085">  299</a></span>&#160;  <span class="keyword">friend</span> class ::dmlc::Registry&lt;OpRegistry&gt;;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// the name</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  std::string <a class="code" href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">name</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classtvm_1_1Op.html">Op</a> op_;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// private constructor</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1OpNode.html#af7ebaf5af32d51226208f533e6d5cb1d">OpRegistry</a>();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// return internal pointer to op.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* <span class="keyword">get</span>();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// update the attribute OpMap</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  TVM_DLL <span class="keywordtype">void</span> UpdateAttr(<span class="keyword">const</span> std::string&amp; key,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                          <a class="code" href="classtvm_1_1runtime_1_1TVMRetValue.html">runtime::TVMRetValue</a> value,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                          <span class="keywordtype">int</span> plevel);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;};</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html">  317</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a> {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">int</span> count(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op) <span class="keyword">const</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1runtime_1_1TVMRetValue.html">runtime::TVMRetValue</a>&amp; operator[](<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op) <span class="keyword">const</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keyword">inline</span> ValueType <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op, ValueType def_value) <span class="keyword">const</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">inline</span> ValueType <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp; expr, ValueType def_value) <span class="keyword">const</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html#af7ebaf5af32d51226208f533e6d5cb1d">  352</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// the attribute field.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  std::string attr_name_;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// internal data</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  std::vector&lt;std::pair&lt;runtime::TVMRetValue, int&gt; &gt; data_;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// The value</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classtvm_1_1OpNode.html#a296d487cd2e3438353e759571270be97">GenericOpMap</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;};</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1OpMap.html">OpMap</a> {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">int</span> count(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op) <span class="keyword">const</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">inline</span> ValueType operator[](<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op) <span class="keyword">const</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">inline</span> ValueType <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op, ValueType def_value) <span class="keyword">const</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keyword">inline</span> ValueType <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp; expr, ValueType def_value) <span class="keyword">const</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html#a2c31e8a3c11caeb061d69db14ebb0e95">  397</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtvm_1_1Op.html">Op</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// constructor</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1OpMap.html">OpMap</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a>&amp; map) : map_(map) {}</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1GenericOpMap.html">GenericOpMap</a>&amp; map_;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;};</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#a013dedecd9c6f457ed4ecc475fbdbd50">  404</a></span>&#160;<span class="preprocessor">#define TVM_STRINGIZE_DETAIL(x) #x</span></div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#a9695ac0f55d84dc1188cdf29c3c58454">  405</a></span>&#160;<span class="preprocessor">#define TVM_STRINGIZE(x) TVM_STRINGIZE_DETAIL(x)</span></div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#aa26ce86513967e27c7571bf70cb8a57e">  406</a></span>&#160;<span class="preprocessor">#define TVM_DESCRIBE(...) describe(__VA_ARGS__ &quot;\n\nFrom:&quot; __FILE__ &quot;:&quot; TVM_STRINGIZE(__LINE__))</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#a4658d181c38630e35f37c98fd1b0bde9">  410</a></span>&#160;<span class="preprocessor">#define TVM_ADD_FILELINE &quot;\n\nDefined in &quot; __FILE__ &quot;:L&quot; TVM_STRINGIZE(__LINE__)</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// internal macros to make</span></div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#ab5474fc13be62edade1979771c0c2a49">  413</a></span>&#160;<span class="preprocessor">#define TVM_OP_REGISTER_VAR_DEF \</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">  static DMLC_ATTRIBUTE_UNUSED ::tvm::OpRegistry&amp; __make_##Op</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="ir_2op_8h.html#ab695572ca7d8604832410ac4e5ea5713">  431</a></span>&#160;<span class="preprocessor">#define TVM_REGISTER_OP(OpName)                                \</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">  TVM_STR_CONCAT(TVM_OP_REGISTER_VAR_DEF, __COUNTER__) =       \</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">  ::tvm::OpRegistry::Registry()                                \</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">          -&gt;__REGISTER_OR_GET__(OpName)                        \</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">          .set_name()</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">// implementations</span></div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#adecc41ad59962134dce22a8211ee19f2">  438</a></span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* <a class="code" href="classtvm_1_1Op.html#adecc41ad59962134dce22a8211ee19f2">Op::operator-&gt;</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1OpNode.html">OpNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">get</span>());</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#ab1d0bfd024cedf156bf59cccfc29bd59">  443</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpMap.html">OpMap&lt;ValueType&gt;</a> <a class="code" href="classtvm_1_1Op.html#ab1d0bfd024cedf156bf59cccfc29bd59">Op::GetAttr</a>(<span class="keyword">const</span> std::string&amp; key) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1OpMap.html">OpMap&lt;ValueType&gt;</a>(Op::GetGenericAttr(key));</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="classtvm_1_1Op.html#a51002130d653fea8a25d4080a84037f6">  447</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1Op.html#a51002130d653fea8a25d4080a84037f6">Op::HasAttr</a>(<span class="keyword">const</span> std::string&amp; key) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">return</span> Op::HasGenericAttr(key);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* OpRegistry::get() {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classtvm_1_1OpNode.html">OpNode</a>*<span class="keyword">&gt;</span>(op_.operator-&gt;());</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a0a72aecfe0d1b5d65f8518a70febb4bc">  455</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a0a72aecfe0d1b5d65f8518a70febb4bc">OpRegistry::describe</a>(</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">const</span> std::string&amp; descr) {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keyword">get</span>()-&gt;description = descr;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a5d15fca747762cf20a5c1881cbe661ff">  461</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a5d15fca747762cf20a5c1881cbe661ff">OpRegistry::add_argument</a>(<span class="keyword">const</span> std::string&amp; name,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                            <span class="keyword">const</span> std::string&amp; type,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                            <span class="keyword">const</span> std::string&amp; description) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keyword">auto</span> n = make_object&lt;AttrFieldInfoNode&gt;();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  n-&gt;name = <a class="code" href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">name</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  n-&gt;type_info = type;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  n-&gt;description = <a class="code" href="classtvm_1_1OpNode.html#a95d402556bd6c710a0b38f50c8e5e3bc">description</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">get</span>()-&gt;arguments.<a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(<a class="code" href="classtvm_1_1AttrFieldInfo.html">AttrFieldInfo</a>(n));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a7db583af58b340af8a5784cc858b507e">  472</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a7db583af58b340af8a5784cc858b507e">OpRegistry::add_type_rel</a>(</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">const</span> std::string&amp; rel_name,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classtvm_1_1runtime_1_1TypedPackedFunc.html">runtime::TypedPackedFunc</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;Type&gt;</a>&amp;,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                  <span class="keywordtype">int</span>,</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classtvm_1_1Attrs.html">Attrs</a>&amp;,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classtvm_1_1TypeReporter.html">TypeReporter</a>&amp;)&gt; type_rel_func) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keyword">auto</span> func_name = std::string(<span class="stringliteral">&quot;tvm.relay.type_relation.&quot;</span>) + rel_name;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="classtvm_1_1TypedEnvFunc.html">TypeRelationFn</a> env_type_rel_func;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classtvm_1_1runtime_1_1Registry.html#afcddc7b207f519f92c622e6918076635">runtime::Registry::Get</a>(func_name)) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">auto</span> env_func = <a class="code" href="classtvm_1_1EnvFunc.html#a44b694c40d5ff79319ba02afa89fe5ab">EnvFunc::Get</a>(func_name);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    env_type_rel_func = env_func;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classtvm_1_1runtime_1_1Registry.html#a227ffef03991cd50224d5d31257a475a">runtime::Registry::Register</a>(func_name)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        .<a class="code" href="classtvm_1_1runtime_1_1Registry.html#aed802ed365a13a9cef9de4e9f601b62a">set_body</a>(type_rel_func.packed());</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">auto</span> env_func = <a class="code" href="classtvm_1_1EnvFunc.html#a44b694c40d5ff79319ba02afa89fe5ab">EnvFunc::Get</a>(func_name);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    env_type_rel_func = env_func;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;TypeVar&gt;</a> type_params;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;Type&gt;</a> arg_types;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// Add inputs.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  std::string input_name_prefix = <span class="stringliteral">&quot;in&quot;</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <span class="keyword">get</span>()-&gt;num_inputs; i++) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">auto</span> name = input_name_prefix + std::to_string(i);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keyword">auto</span> param = <a class="code" href="namespacetvm_1_1relay.html#a63321eb51080f3f57dd7563a3ca0bfa6">TypeVar</a>(name, <a class="code" href="namespacetvm.html#acd267f8d7f55da6ac681239831963279a46f081c7ea2307c83d3cdfd42e1583f7">TypeKind::kType</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    type_params.<a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(param);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    arg_types.<a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(param);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;Type&gt;</a> ty_call_args = arg_types;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// Add output type.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keyword">auto</span> out_param = <a class="code" href="namespacetvm_1_1relay.html#a63321eb51080f3f57dd7563a3ca0bfa6">TypeVar</a>(<span class="stringliteral">&quot;out&quot;</span>, <a class="code" href="namespacetvm.html#acd267f8d7f55da6ac681239831963279a46f081c7ea2307c83d3cdfd42e1583f7">TypeKind::kType</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  type_params.<a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(out_param);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// this will trigger copy on write.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  ty_call_args.<a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(out_param);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// The attributes of primitive op is nullptr</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// The attributes of primitive operator can vary at the call site.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// The type of sum is also dependent on Attrs being passed.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// So puting nullptr in the Attrs means that the operator is polymorphic on Attrs.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// A common example is sum(x, axis), where the choice of axis</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// can affect the type of the function.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="classtvm_1_1TypeConstraint.html">TypeConstraint</a> type_rel =</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="namespacetvm_1_1relay.html#adab0d56fd993df71df3068dea0cd5456">TypeRelation</a>(env_type_rel_func,</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                             ty_call_args,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                             arg_types.<a class="code" href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">size</a>(),</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                             <a class="code" href="classtvm_1_1Attrs.html">Attrs</a>());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keyword">auto</span> func_type =</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="namespacetvm_1_1relay.html#aa475de90506d48a1bb04ef6d1bd99bfb">FuncType</a>(arg_types, out_param, type_params, {type_rel});</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">get</span>()-&gt;op_type = func_type;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a432a240bf74af65004beee94d046edfd">  533</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a432a240bf74af65004beee94d046edfd">OpRegistry::set_num_inputs</a>(int32_t n) {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keyword">get</span>()-&gt;num_inputs = n;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> AttrsType&gt;</div><div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#aafc6025ac5b10313e69c84130ee5cca0">  539</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#aafc6025ac5b10313e69c84130ee5cca0">OpRegistry::set_attrs_type</a>() {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keyword">get</span>()-&gt;attrs_type_key = AttrsType::_type_key;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keyword">get</span>()-&gt;<a class="code" href="classtvm_1_1OpNode.html#a4b7f1c6f18ede931328377bb8794c1bc">attrs_type_index</a> = AttrsType::RuntimeTypeIndex();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#adb43dc08f36cc080855bbec206b1c86f">  545</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#adb43dc08f36cc080855bbec206b1c86f">OpRegistry::set_support_level</a>(int32_t n) {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">get</span>()-&gt;support_level = n;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classtvm_1_1OpRegistry.html#a1fe827230a62fd815f63b9b6f0e2531b">  551</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classtvm_1_1OpRegistry.html">OpRegistry</a>&amp; <a class="code" href="classtvm_1_1OpRegistry.html#a1fe827230a62fd815f63b9b6f0e2531b">OpRegistry::set_attr</a>(  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keyword">const</span> std::string&amp; attr_name, <span class="keyword">const</span> ValueType&amp; value, <span class="keywordtype">int</span> plevel) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  CHECK_GT(plevel, 0) &lt;&lt; <span class="stringliteral">&quot;plevel in set_attr must be greater than 0&quot;</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="classtvm_1_1runtime_1_1TVMRetValue.html">runtime::TVMRetValue</a> rv;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  rv = value;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  UpdateAttr(attr_name, rv, plevel);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">// member functions of OpMap</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html#aae9ad079762cba7d1ea7875734992506">  561</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classtvm_1_1GenericOpMap.html#aae9ad079762cba7d1ea7875734992506">GenericOpMap::count</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op)<span class="keyword"> const </span>{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (op.defined()) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">const</span> uint32_t idx = op-&gt;index_;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> idx &lt; data_.size() ? (data_[idx].second != 0) : 0;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1runtime_1_1TVMRetValue.html">runtime::TVMRetValue</a>&amp;</div><div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html#a74e4a7eab2bf83c8b505e4942b5b7516">  571</a></span>&#160;<a class="code" href="classtvm_1_1GenericOpMap.html#a74e4a7eab2bf83c8b505e4942b5b7516">GenericOpMap::operator[]</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op)<span class="keyword"> const </span>{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  CHECK(op.defined());</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keyword">const</span> uint32_t idx = op-&gt;index_;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  CHECK(idx &lt; data_.size() &amp;&amp; data_[idx].second != 0)</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Attribute &quot;</span> &lt;&lt; attr_name_ &lt;&lt; <span class="stringliteral">&quot; has not been registered for Operator &quot;</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      &lt;&lt; op-&gt;<a class="code" href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">name</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">return</span> data_[idx].first;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html#a9adaf806540db27a3eb334a599fb8cb5">  581</a></span>&#160;<span class="keyword">inline</span> ValueType <a class="code" href="classtvm_1_1GenericOpMap.html#a9adaf806540db27a3eb334a599fb8cb5">GenericOpMap::get</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op, ValueType value)<span class="keyword"> const </span>{</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  CHECK(op.defined());</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keyword">const</span> uint32_t idx = op-&gt;index_;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">if</span> (idx &lt; data_.size() &amp;&amp; data_[idx].second != 0) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> data_[idx].first;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="classtvm_1_1GenericOpMap.html#a204ef8651b7ec324ed2fbec84217a8fa">  592</a></span>&#160;<span class="keyword">inline</span> ValueType <a class="code" href="classtvm_1_1GenericOpMap.html#a9adaf806540db27a3eb334a599fb8cb5">GenericOpMap::get</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp; expr, ValueType value)<span class="keyword"> const </span>{</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  CHECK(expr.defined());</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classtvm_1_1OpNode.html">OpNode</a>* op = expr.as&lt;<a class="code" href="classtvm_1_1OpNode.html">OpNode</a>&gt;()) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keyword">const</span> uint32_t idx = op-&gt;index_;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (idx &lt; data_.size() &amp;&amp; data_[idx].second != 0) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">return</span> data_[idx].first;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html#a682c5cbb2d79f69e047d0f04041bd1c1">  607</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classtvm_1_1OpMap.html#a682c5cbb2d79f69e047d0f04041bd1c1">OpMap&lt;ValueType&gt;::count</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op)<span class="keyword"> const </span>{</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">return</span> map_.count(op);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html#ab719867303894f6e441a59348cab4ced">  612</a></span>&#160;<span class="keyword">inline</span> ValueType <a class="code" href="classtvm_1_1OpMap.html#ab719867303894f6e441a59348cab4ced">OpMap&lt;ValueType&gt;::operator[]</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op)<span class="keyword"> const </span>{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">return</span> map_[op];</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html#a3704a7d04cd90cf722361b1a7b3eec2c">  617</a></span>&#160;<span class="keyword">inline</span> ValueType <a class="code" href="classtvm_1_1OpMap.html#a3704a7d04cd90cf722361b1a7b3eec2c">OpMap&lt;ValueType&gt;::get</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Op.html">Op</a>&amp; op,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                       ValueType def_value)<span class="keyword"> const </span>{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">return</span> map_.get&lt;ValueType&gt;(op, def_value);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType&gt;</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classtvm_1_1OpMap.html#ae1069dc1bd6bf1b277960ef4b791c8c3">  623</a></span>&#160;<span class="keyword">inline</span> ValueType <a class="code" href="classtvm_1_1OpMap.html#a3704a7d04cd90cf722361b1a7b3eec2c">OpMap&lt;ValueType&gt;::get</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp; expr,</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                       ValueType def_value)<span class="keyword"> const </span>{</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">return</span> map_.get&lt;ValueType&gt;(expr, def_value);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="namespacetvm.html#a8259e23409eda017c6bde908e050b670">  641</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">IsPrimitiveOp</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1RelayExpr.html">RelayExpr</a>&amp; expr) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>* op = expr.as&lt;<a class="code" href="classtvm_1_1OpNode.html">OpNode</a>&gt;();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">return</span> op != <span class="keyword">nullptr</span> &amp;&amp; op-&gt;<a class="code" href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">IsPrimitiveOp</a>();</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}  <span class="comment">// namespace tvm</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="preprocessor">#endif  // TVM_IR_OP_H_</span></div><div class="ttc" id="classtvm_1_1TypeReporter_html"><div class="ttname"><a href="classtvm_1_1TypeReporter.html">tvm::TypeReporter</a></div><div class="ttdoc">Container class of TypeReporter. </div><div class="ttdef"><b>Definition:</b> type_relation.h:141</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1TVMRetValue_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1TVMRetValue.html">tvm::runtime::TVMRetValue</a></div><div class="ttdoc">Return Value container, Unlike TVMArgValue, which only holds reference and do not delete the underlyi...</div><div class="ttdef"><b>Definition:</b> packed_func.h:599</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a1fe827230a62fd815f63b9b6f0e2531b"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a1fe827230a62fd815f63b9b6f0e2531b">tvm::OpRegistry::set_attr</a></div><div class="ttdeci">OpRegistry &amp; set_attr(const std::string &amp;attr_name, const ValueType &amp;value, int plevel=10)</div><div class="ttdoc">Register additional attributes to operator. </div><div class="ttdef"><b>Definition:</b> op.h:551</div></div>
<div class="ttc" id="classtvm_1_1TypeRelationNode_html"><div class="ttname"><a href="classtvm_1_1TypeRelationNode.html">tvm::TypeRelationNode</a></div><div class="ttdoc">User defined type relation, it is an input-output relation on types. </div><div class="ttdef"><b>Definition:</b> type_relation.h:186</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_ade027d3176f48e7127be6ff08c723306"><div class="ttname"><a href="classtvm_1_1OpNode.html#ade027d3176f48e7127be6ff08c723306">tvm::OpNode::TVM_DECLARE_FINAL_OBJECT_INFO</a></div><div class="ttdeci">TVM_DECLARE_FINAL_OBJECT_INFO(OpNode, RelayExprNode)</div></div>
<div class="ttc" id="classtvm_1_1OpMap_html_a682c5cbb2d79f69e047d0f04041bd1c1"><div class="ttname"><a href="classtvm_1_1OpMap.html#a682c5cbb2d79f69e047d0f04041bd1c1">tvm::OpMap::count</a></div><div class="ttdeci">int count(const Op &amp;op) const </div><div class="ttdoc">Check if the map has op as key. </div><div class="ttdef"><b>Definition:</b> op.h:607</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a6c150ee7d3e46117b099d2052b19aec5"><div class="ttname"><a href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">tvm::Array::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> container.h:246</div></div>
<div class="ttc" id="classtvm_1_1SEqualReducer_html"><div class="ttname"><a href="classtvm_1_1SEqualReducer.html">tvm::SEqualReducer</a></div><div class="ttdoc">A Reducer class to reduce the structural equality result of two objects. </div><div class="ttdef"><b>Definition:</b> structural_equal.h:114</div></div>
<div class="ttc" id="classtvm_1_1TypedEnvFunc_html"><div class="ttname"><a href="classtvm_1_1TypedEnvFunc.html">tvm::TypedEnvFunc&lt; bool(const Array&lt; Type &gt; &amp;args, int num_inputs, const Attrs &amp;attrs, const TypeReporter &amp;reporter)&gt;</a></div></div>
<div class="ttc" id="classtvm_1_1Attrs_html"><div class="ttname"><a href="classtvm_1_1Attrs.html">tvm::Attrs</a></div><div class="ttdoc">Managed reference to BaseAttrsNode. </div><div class="ttdef"><b>Definition:</b> attrs.h:294</div></div>
<div class="ttc" id="ir_2expr_8h_html"><div class="ttname"><a href="ir_2expr_8h.html">expr.h</a></div><div class="ttdoc">Base expr nodes in TVM. </div></div>
<div class="ttc" id="classtvm_1_1AttrFieldInfo_html"><div class="ttname"><a href="classtvm_1_1AttrFieldInfo.html">tvm::AttrFieldInfo</a></div><div class="ttdoc">AttrFieldInfo. </div><div class="ttdef"><b>Definition:</b> attrs.h:129</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_aedeeca81655fb2bba9e1de79dcd539d1"><div class="ttname"><a href="classtvm_1_1OpNode.html#aedeeca81655fb2bba9e1de79dcd539d1">tvm::OpNode::attrs_type_key</a></div><div class="ttdeci">std::string attrs_type_key</div><div class="ttdoc">The type key of the attribute field This can be empty, in which case it defaults to anything...</div><div class="ttdef"><b>Definition:</b> op.h:76</div></div>
<div class="ttc" id="namespacetvm_html"><div class="ttname"><a href="namespacetvm.html">tvm</a></div><div class="ttdef"><b>Definition:</b> analyzer.h:36</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a24d5ac1f6730d46cb1a6d16729f0a7bb"><div class="ttname"><a href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">tvm::Array::push_back</a></div><div class="ttdeci">void push_back(const T &amp;item)</div><div class="ttdoc">push a new item to the back of the list </div><div class="ttdef"><b>Definition:</b> container.h:270</div></div>
<div class="ttc" id="classtvm_1_1SHashReducer_html"><div class="ttname"><a href="classtvm_1_1SHashReducer.html">tvm::SHashReducer</a></div><div class="ttdoc">A Reducer class to reduce the structural hash value. </div><div class="ttdef"><b>Definition:</b> structural_hash.h:115</div></div>
<div class="ttc" id="type__relation_8h_html"><div class="ttname"><a href="type__relation_8h.html">type_relation.h</a></div><div class="ttdoc">Type relation and function for type inference(checking). </div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_abe8c1e8f86a4b62187a233174edce575"><div class="ttname"><a href="classtvm_1_1OpNode.html#abe8c1e8f86a4b62187a233174edce575">tvm::OpNode::SHashReduce</a></div><div class="ttdeci">void SHashReduce(SHashReducer hash_reduce) const </div><div class="ttdef"><b>Definition:</b> op.h:109</div></div>
<div class="ttc" id="classtvm_1_1Op_html_afde3bc925d4d4c7ea09d4da50fc32c66"><div class="ttname"><a href="classtvm_1_1Op.html#afde3bc925d4d4c7ea09d4da50fc32c66">tvm::Op::Op</a></div><div class="ttdeci">Op()</div><div class="ttdoc">default constructor </div><div class="ttdef"><b>Definition:</b> op.h:159</div></div>
<div class="ttc" id="classtvm_1_1TypeConstraint_html"><div class="ttname"><a href="classtvm_1_1TypeConstraint.html">tvm::TypeConstraint</a></div><div class="ttdoc">Managed reference to TypeConstraintNode. </div><div class="ttdef"><b>Definition:</b> type.h:401</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a0a72aecfe0d1b5d65f8518a70febb4bc"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a0a72aecfe0d1b5d65f8518a70febb4bc">tvm::OpRegistry::describe</a></div><div class="ttdeci">OpRegistry &amp; describe(const std::string &amp;descr)</div><div class="ttdoc">setter function during registration Set the description of operator </div><div class="ttdef"><b>Definition:</b> op.h:455</div></div>
<div class="ttc" id="classtvm_1_1GenericOpMap_html_a9adaf806540db27a3eb334a599fb8cb5"><div class="ttname"><a href="classtvm_1_1GenericOpMap.html#a9adaf806540db27a3eb334a599fb8cb5">tvm::GenericOpMap::get</a></div><div class="ttdeci">ValueType get(const Op &amp;op, ValueType def_value) const </div><div class="ttdoc">get the corresponding value element at op with default value. </div><div class="ttdef"><b>Definition:</b> op.h:581</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html"><div class="ttname"><a href="classtvm_1_1OpRegistry.html">tvm::OpRegistry</a></div><div class="ttdoc">Helper structure to register operators. </div><div class="ttdef"><b>Definition:</b> op.h:212</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html"><div class="ttname"><a href="classtvm_1_1OpNode.html">tvm::OpNode</a></div><div class="ttdoc">Primitive Op(builtin intrinsics) </div><div class="ttdef"><b>Definition:</b> op.h:59</div></div>
<div class="ttc" id="classtvm_1_1Op_html_ab1d0bfd024cedf156bf59cccfc29bd59"><div class="ttname"><a href="classtvm_1_1Op.html#ab1d0bfd024cedf156bf59cccfc29bd59">tvm::Op::GetAttr</a></div><div class="ttdeci">static OpMap&lt; ValueType &gt; GetAttr(const std::string &amp;attr_name)</div><div class="ttdoc">Get additional registered attribute about operators. If nothing has been registered, an empty OpMap will be returned. </div><div class="ttdef"><b>Definition:</b> op.h:443</div></div>
<div class="ttc" id="ir_2attrs_8h_html"><div class="ttname"><a href="ir_2attrs_8h.html">attrs.h</a></div><div class="ttdoc">Helpers for attribute objects. </div></div>
<div class="ttc" id="classtvm_1_1OpMap_html_a3704a7d04cd90cf722361b1a7b3eec2c"><div class="ttname"><a href="classtvm_1_1OpMap.html#a3704a7d04cd90cf722361b1a7b3eec2c">tvm::OpMap::get</a></div><div class="ttdeci">ValueType get(const Op &amp;op, ValueType def_value) const </div><div class="ttdoc">get the corresponding value element at op with default value. </div><div class="ttdef"><b>Definition:</b> op.h:617</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_adff89c1e3f0aa6798a97fc4461293f7c"><div class="ttname"><a href="classtvm_1_1OpNode.html#adff89c1e3f0aa6798a97fc4461293f7c">tvm::OpNode::op_type</a></div><div class="ttdeci">FuncType op_type</div><div class="ttdoc">the type of the operator </div><div class="ttdef"><b>Definition:</b> op.h:64</div></div>
<div class="ttc" id="classtvm_1_1OpMap_html_ab719867303894f6e441a59348cab4ced"><div class="ttname"><a href="classtvm_1_1OpMap.html#ab719867303894f6e441a59348cab4ced">tvm::OpMap::operator[]</a></div><div class="ttdeci">ValueType operator[](const Op &amp;op) const </div><div class="ttdoc">get the corresponding value element at op </div><div class="ttdef"><b>Definition:</b> op.h:612</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1Registry_html_afcddc7b207f519f92c622e6918076635"><div class="ttname"><a href="classtvm_1_1runtime_1_1Registry.html#afcddc7b207f519f92c622e6918076635">tvm::runtime::Registry::Get</a></div><div class="ttdeci">static const PackedFunc * Get(const std::string &amp;name)</div><div class="ttdoc">Get the global function by name. </div></div>
<div class="ttc" id="classtvm_1_1OpMap_html"><div class="ttname"><a href="classtvm_1_1OpMap.html">tvm::OpMap</a></div><div class="ttdoc">Map&lt;Op,ValueType&gt; used to store meta-information about Op. </div><div class="ttdef"><b>Definition:</b> op.h:43</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_af7ebaf5af32d51226208f533e6d5cb1d"><div class="ttname"><a href="classtvm_1_1OpNode.html#af7ebaf5af32d51226208f533e6d5cb1d">tvm::OpNode::OpRegistry</a></div><div class="ttdeci">friend class OpRegistry</div><div class="ttdef"><b>Definition:</b> op.h:131</div></div>
<div class="ttc" id="classtvm_1_1AttrVisitor_html"><div class="ttname"><a href="classtvm_1_1AttrVisitor.html">tvm::AttrVisitor</a></div><div class="ttdoc">Visitor class for to get the attributesof a AST/IR node. The content is going to be called for each f...</div><div class="ttdef"><b>Definition:</b> reflection.h:52</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_adb43dc08f36cc080855bbec206b1c86f"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#adb43dc08f36cc080855bbec206b1c86f">tvm::OpRegistry::set_support_level</a></div><div class="ttdeci">OpRegistry &amp; set_support_level(int32_t level)</div><div class="ttdoc">Set the support level of op. </div><div class="ttdef"><b>Definition:</b> op.h:545</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a95d402556bd6c710a0b38f50c8e5e3bc"><div class="ttname"><a href="classtvm_1_1OpNode.html#a95d402556bd6c710a0b38f50c8e5e3bc">tvm::OpNode::description</a></div><div class="ttdeci">std::string description</div><div class="ttdoc">detailed description of the operator This can be used to generate docstring automatically for the ope...</div><div class="ttdef"><b>Definition:</b> op.h:69</div></div>
<div class="ttc" id="namespacetvm_1_1relay_html_ac9d4f2cf78a48659817a88d890e1d142"><div class="ttname"><a href="namespacetvm_1_1relay.html#ac9d4f2cf78a48659817a88d890e1d142">tvm::relay::OpNode</a></div><div class="ttdeci">tvm::OpNode OpNode</div><div class="ttdef"><b>Definition:</b> op.h:35</div></div>
<div class="ttc" id="classtvm_1_1GenericOpMap_html_a74e4a7eab2bf83c8b505e4942b5b7516"><div class="ttname"><a href="classtvm_1_1GenericOpMap.html#a74e4a7eab2bf83c8b505e4942b5b7516">tvm::GenericOpMap::operator[]</a></div><div class="ttdeci">const runtime::TVMRetValue &amp; operator[](const Op &amp;op) const </div><div class="ttdoc">get the corresponding value element at op </div><div class="ttdef"><b>Definition:</b> op.h:571</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a2c50dc0d1b84d52d6da19a6fa3fcabac"><div class="ttname"><a href="classtvm_1_1OpNode.html#a2c50dc0d1b84d52d6da19a6fa3fcabac">tvm::OpNode::_type_key</a></div><div class="ttdeci">static constexpr const char * _type_key</div><div class="ttdef"><b>Definition:</b> op.h:125</div></div>
<div class="ttc" id="classtvm_1_1Array_html"><div class="ttname"><a href="classtvm_1_1Array.html">tvm::Array</a></div><div class="ttdoc">Array container of NodeRef in DSL graph. Array implements copy on write semantics, which means array is mutable but copy will happen when array is referenced in more than two places. </div><div class="ttdef"><b>Definition:</b> container.h:141</div></div>
<div class="ttc" id="ir_2type_8h_html"><div class="ttname"><a href="ir_2type_8h.html">type.h</a></div><div class="ttdoc">IR/AST nodes for the unified type system in TVM. </div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_af753e9ea21f09017bb61d5722b2ce181"><div class="ttname"><a href="classtvm_1_1OpNode.html#af753e9ea21f09017bb61d5722b2ce181">tvm::OpNode::arguments</a></div><div class="ttdeci">Array&lt; AttrFieldInfo &gt; arguments</div><div class="ttdef"><b>Definition:</b> op.h:71</div></div>
<div class="ttc" id="classtvm_1_1TypeRelationNode_html_a4ae12e1df74b0b93404db6a762ef9f3f"><div class="ttname"><a href="classtvm_1_1TypeRelationNode.html#a4ae12e1df74b0b93404db6a762ef9f3f">tvm::TypeRelationNode::args</a></div><div class="ttdeci">Array&lt; Type &gt; args</div><div class="ttdoc">The type arguments to the type function. </div><div class="ttdef"><b>Definition:</b> type_relation.h:195</div></div>
<div class="ttc" id="classtvm_1_1Op_html_a51002130d653fea8a25d4080a84037f6"><div class="ttname"><a href="classtvm_1_1Op.html#a51002130d653fea8a25d4080a84037f6">tvm::Op::HasAttr</a></div><div class="ttdeci">static bool HasAttr(const std::string &amp;attr_name)</div><div class="ttdoc">Checks if an attr is present in the registry. </div><div class="ttdef"><b>Definition:</b> op.h:447</div></div>
<div class="ttc" id="namespacetvm_1_1relay_html_aa475de90506d48a1bb04ef6d1bd99bfb"><div class="ttname"><a href="namespacetvm_1_1relay.html#aa475de90506d48a1bb04ef6d1bd99bfb">tvm::relay::FuncType</a></div><div class="ttdeci">tvm::FuncType FuncType</div><div class="ttdef"><b>Definition:</b> type.h:56</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a285c8dc0ccec2ca34386271d1b338506"><div class="ttname"><a href="classtvm_1_1OpNode.html#a285c8dc0ccec2ca34386271d1b338506">tvm::OpNode::IsPrimitiveOp</a></div><div class="ttdeci">bool IsPrimitiveOp() const </div><div class="ttdoc">Check that if current op is a &quot;primtive operator&quot;. That is the arguments are all type variables...</div><div class="ttdef"><b>Definition:</b> op.h:119</div></div>
<div class="ttc" id="namespacetvm_1_1relay_html_a63321eb51080f3f57dd7563a3ca0bfa6"><div class="ttname"><a href="namespacetvm_1_1relay.html#a63321eb51080f3f57dd7563a3ca0bfa6">tvm::relay::TypeVar</a></div><div class="ttdeci">tvm::TypeVar TypeVar</div><div class="ttdef"><b>Definition:</b> type.h:48</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1TypedPackedFunc_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1TypedPackedFunc.html">tvm::runtime::TypedPackedFunc</a></div><div class="ttdoc">Please refer to TypedPackedFunc&lt;R(Args..)&gt;. </div><div class="ttdef"><b>Definition:</b> packed_func.h:163</div></div>
<div class="ttc" id="classtvm_1_1RelayExpr_html"><div class="ttname"><a href="classtvm_1_1RelayExpr.html">tvm::RelayExpr</a></div><div class="ttdoc">Managed reference to RelayExprNode. </div><div class="ttdef"><b>Definition:</b> expr.h:177</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a381093d9c0d1177baef90f4b25828e21"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a381093d9c0d1177baef90f4b25828e21">tvm::OpRegistry::op</a></div><div class="ttdeci">const Op &amp; op() const </div><div class="ttdef"><b>Definition:</b> op.h:215</div></div>
<div class="ttc" id="classtvm_1_1Op_html"><div class="ttname"><a href="classtvm_1_1Op.html">tvm::Op</a></div><div class="ttdoc">Managed reference class to OpNode. </div><div class="ttdef"><b>Definition:</b> op.h:156</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_ae8810815c68a55b8b6ab00dfb7d7778d"><div class="ttname"><a href="classtvm_1_1OpNode.html#ae8810815c68a55b8b6ab00dfb7d7778d">tvm::OpNode::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">name of the operator </div><div class="ttdef"><b>Definition:</b> op.h:62</div></div>
<div class="ttc" id="classtvm_1_1GenericOpMap_html"><div class="ttname"><a href="classtvm_1_1GenericOpMap.html">tvm::GenericOpMap</a></div><div class="ttdoc">Generic map to store additional information of Op. </div><div class="ttdef"><b>Definition:</b> op.h:317</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a9a5aacb190b2c4ead60b2810bd9053f4"><div class="ttname"><a href="classtvm_1_1OpNode.html#a9a5aacb190b2c4ead60b2810bd9053f4">tvm::OpNode::VisitAttrs</a></div><div class="ttdeci">void VisitAttrs(AttrVisitor *v)</div><div class="ttdef"><b>Definition:</b> op.h:94</div></div>
<div class="ttc" id="classtvm_1_1FuncType_html"><div class="ttname"><a href="classtvm_1_1FuncType.html">tvm::FuncType</a></div><div class="ttdoc">Managed reference to FuncTypeNode. </div><div class="ttdef"><b>Definition:</b> type.h:462</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a432a240bf74af65004beee94d046edfd"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a432a240bf74af65004beee94d046edfd">tvm::OpRegistry::set_num_inputs</a></div><div class="ttdeci">OpRegistry &amp; set_num_inputs(int32_t n)</div><div class="ttdoc">Set the num_inputs. </div><div class="ttdef"><b>Definition:</b> op.h:533</div></div>
<div class="ttc" id="classtvm_1_1Op_html_adecc41ad59962134dce22a8211ee19f2"><div class="ttname"><a href="classtvm_1_1Op.html#adecc41ad59962134dce22a8211ee19f2">tvm::Op::operator-&gt;</a></div><div class="ttdeci">const OpNode * operator-&gt;() const </div><div class="ttdoc">access the internal node container </div><div class="ttdef"><b>Definition:</b> op.h:438</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_aafc6025ac5b10313e69c84130ee5cca0"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#aafc6025ac5b10313e69c84130ee5cca0">tvm::OpRegistry::set_attrs_type</a></div><div class="ttdeci">OpRegistry &amp; set_attrs_type()</div><div class="ttdoc">Set the the attrs type key and index to be AttrsType. </div><div class="ttdef"><b>Definition:</b> op.h:539</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a4b7f1c6f18ede931328377bb8794c1bc"><div class="ttname"><a href="classtvm_1_1OpNode.html#a4b7f1c6f18ede931328377bb8794c1bc">tvm::OpNode::attrs_type_index</a></div><div class="ttdeci">uint32_t attrs_type_index</div><div class="ttdoc">attribute type index, this field varies in each run and is not exposed to frontend. </div><div class="ttdef"><b>Definition:</b> op.h:81</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1Registry_html_aed802ed365a13a9cef9de4e9f601b62a"><div class="ttname"><a href="classtvm_1_1runtime_1_1Registry.html#aed802ed365a13a9cef9de4e9f601b62a">tvm::runtime::Registry::set_body</a></div><div class="ttdeci">Registry &amp; set_body(PackedFunc f)</div><div class="ttdoc">set the body of the function to be f </div></div>
<div class="ttc" id="classtvm_1_1GenericOpMap_html_aae9ad079762cba7d1ea7875734992506"><div class="ttname"><a href="classtvm_1_1GenericOpMap.html#aae9ad079762cba7d1ea7875734992506">tvm::GenericOpMap::count</a></div><div class="ttdeci">int count(const Op &amp;op) const </div><div class="ttdoc">Check if the map has op as key. </div><div class="ttdef"><b>Definition:</b> op.h:561</div></div>
<div class="ttc" id="namespacetopi_html_ae10e1fb8c765a9ae15c12f45199375b3"><div class="ttname"><a href="namespacetopi.html#ae10e1fb8c765a9ae15c12f45199375b3">topi::equal</a></div><div class="ttdeci">tvm::PrimExpr equal(const tvm::PrimExpr &amp;a, const tvm::PrimExpr &amp;b)</div><div class="ttdef"><b>Definition:</b> broadcast.h:395</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a1b08766909281904cb0006682fc7b04e"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a1b08766909281904cb0006682fc7b04e">tvm::OpRegistry::set_name</a></div><div class="ttdeci">OpRegistry &amp; set_name()</div><div class="ttdef"><b>Definition:</b> op.h:289</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a68a34098b5a111dec5f381cc4a80cb78"><div class="ttname"><a href="classtvm_1_1OpNode.html#a68a34098b5a111dec5f381cc4a80cb78">tvm::OpNode::support_level</a></div><div class="ttdeci">int32_t support_level</div><div class="ttdoc">support level of the operator, The lower the more priority it contains. This is in analogies to BLAS ...</div><div class="ttdef"><b>Definition:</b> op.h:92</div></div>
<div class="ttc" id="classtvm_1_1EnvFunc_html_a44b694c40d5ff79319ba02afa89fe5ab"><div class="ttname"><a href="classtvm_1_1EnvFunc.html#a44b694c40d5ff79319ba02afa89fe5ab">tvm::EnvFunc::Get</a></div><div class="ttdeci">static EnvFunc Get(const std::string &amp;name)</div><div class="ttdoc">Get a global function based on the name. </div></div>
<div class="ttc" id="namespacetvm_html_acd267f8d7f55da6ac681239831963279a46f081c7ea2307c83d3cdfd42e1583f7"><div class="ttname"><a href="namespacetvm.html#acd267f8d7f55da6ac681239831963279a46f081c7ea2307c83d3cdfd42e1583f7">tvm::kType</a></div><div class="ttdef"><b>Definition:</b> type.h:195</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1Registry_html_a227ffef03991cd50224d5d31257a475a"><div class="ttname"><a href="classtvm_1_1runtime_1_1Registry.html#a227ffef03991cd50224d5d31257a475a">tvm::runtime::Registry::Register</a></div><div class="ttdeci">static Registry &amp; Register(const std::string &amp;name, bool override=false)</div><div class="ttdoc">Register a function with given name. </div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_aa13505588162bc5448bd03f02f5c545b"><div class="ttname"><a href="classtvm_1_1OpNode.html#aa13505588162bc5448bd03f02f5c545b">tvm::OpNode::num_inputs</a></div><div class="ttdeci">int32_t num_inputs</div><div class="ttdoc">number of input arguments to the operator, -1 means it is variable length </div><div class="ttdef"><b>Definition:</b> op.h:86</div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a7db583af58b340af8a5784cc858b507e"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a7db583af58b340af8a5784cc858b507e">tvm::OpRegistry::add_type_rel</a></div><div class="ttdeci">OpRegistry &amp; add_type_rel(const std::string &amp;rel_name, runtime::TypedPackedFunc&lt; bool(const Array&lt; Type &gt; &amp;, int, const Attrs &amp;, const TypeReporter &amp;)&gt; type_rel_func)</div><div class="ttdoc">Attach the type function corresponding to the return type. </div><div class="ttdef"><b>Definition:</b> op.h:472</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a296d487cd2e3438353e759571270be97"><div class="ttname"><a href="classtvm_1_1OpNode.html#a296d487cd2e3438353e759571270be97">tvm::OpNode::GenericOpMap</a></div><div class="ttdeci">friend class GenericOpMap</div><div class="ttdef"><b>Definition:</b> op.h:130</div></div>
<div class="ttc" id="classtvm_1_1RelayExprNode_html"><div class="ttname"><a href="classtvm_1_1RelayExprNode.html">tvm::RelayExprNode</a></div><div class="ttdoc">Base node of all non-primitive expressions. </div><div class="ttdef"><b>Definition:</b> expr.h:138</div></div>
<div class="ttc" id="classtvm_1_1OpNode_html_a23237d4a1ca4e21371d5ed0ac3520725"><div class="ttname"><a href="classtvm_1_1OpNode.html#a23237d4a1ca4e21371d5ed0ac3520725">tvm::OpNode::SEqualReduce</a></div><div class="ttdeci">bool SEqualReduce(const OpNode *other, SEqualReducer equal) const </div><div class="ttdef"><b>Definition:</b> op.h:104</div></div>
<div class="ttc" id="classtvm_1_1Op_html_abaafec14f5f05cc8bd3cdbf99eeb53d5"><div class="ttname"><a href="classtvm_1_1Op.html#abaafec14f5f05cc8bd3cdbf99eeb53d5">tvm::Op::Op</a></div><div class="ttdeci">Op(ObjectPtr&lt; Object &gt; n)</div><div class="ttdoc">constructor from node pointer </div><div class="ttdef"><b>Definition:</b> op.h:161</div></div>
<div class="ttc" id="namespacetvm_1_1relay_html_adab0d56fd993df71df3068dea0cd5456"><div class="ttname"><a href="namespacetvm_1_1relay.html#adab0d56fd993df71df3068dea0cd5456">tvm::relay::TypeRelation</a></div><div class="ttdeci">tvm::TypeRelation TypeRelation</div><div class="ttdef"><b>Definition:</b> type.h:66</div></div>
<div class="ttc" id="registry_8h_html"><div class="ttname"><a href="registry_8h.html">registry.h</a></div><div class="ttdoc">This file defines the TVM global function registry. </div></div>
<div class="ttc" id="classtvm_1_1OpRegistry_html_a5d15fca747762cf20a5c1881cbe661ff"><div class="ttname"><a href="classtvm_1_1OpRegistry.html#a5d15fca747762cf20a5c1881cbe661ff">tvm::OpRegistry::add_argument</a></div><div class="ttdeci">OpRegistry &amp; add_argument(const std::string &amp;name, const std::string &amp;type, const std::string &amp;description)</div><div class="ttdoc">Add argument information to the function. </div><div class="ttdef"><b>Definition:</b> op.h:461</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
