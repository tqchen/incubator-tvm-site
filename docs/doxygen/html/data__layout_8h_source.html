<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tvm: include/tvm/tir/data_layout.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tvm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b4c7d8e826c599ba55146c099a14beb5.html">tvm</a></li><li class="navelem"><a class="el" href="dir_72c2f11201cd7636dc7624de0754daa5.html">tir</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">data_layout.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="data__layout_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * or more contributor license agreements.  See the NOTICE file</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * distributed with this work for additional information</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * to you under the Apache License, Version 2.0 (the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * with the License.  You may obtain a copy of the License at</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * software distributed under the License is distributed on an</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * KIND, either express or implied.  See the License for the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * specific language governing permissions and limitations</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * under the License.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef TVM_TIR_DATA_LAYOUT_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define TVM_TIR_DATA_LAYOUT_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="tir_2expr_8h.html">tvm/tir/expr.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="tir_2op_8h.html">tvm/tir/op.h</a>&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetvm.html">tvm</a> {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span>tir {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html">   42</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a> {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">Get</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// Get the singleton LayoutAxis using itvar-&gt;var-&gt;name_hint</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">Get</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1IterVar.html">tir::IterVar</a>&amp; itvar);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// Get the singleton LayoutAxis using name[0] (size of name must be 1).</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ab5b179ce478f9a1d01b3e44809040486">make</a>(<span class="keyword">const</span> std::string&amp; name);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">   52</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">IsPrimal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> name_ &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; name_ &lt;= <span class="charliteral">&#39;Z&#39;</span>; }</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">   53</a></span>&#160;  <span class="keyword">inline</span> std::string <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::string(1, name_); }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// if current axis is primal, switch the axis to its subordinate one,</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// else switch to the primal.</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#ac30849455035a3b095198ad36f83f2eb">   57</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ac30849455035a3b095198ad36f83f2eb">ToDual</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (name_ &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; name_ &lt;= <span class="charliteral">&#39;Z&#39;</span>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(name_ - <span class="charliteral">&#39;A&#39;</span> + <span class="charliteral">&#39;a&#39;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(name_ - <span class="charliteral">&#39;a&#39;</span> + <span class="charliteral">&#39;A&#39;</span>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// return the primal axis. If it is already primal, return itself.</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#ada7181b764f93bdd1d4cedf476922364">   66</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ada7181b764f93bdd1d4cedf476922364">ToPrimal</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">IsPrimal</a>() ? *<span class="keyword">this</span> : <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ac30849455035a3b095198ad36f83f2eb">ToDual</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// return the subordinate axis. If it is already subordinate, return itself.</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#aa58f0180c060e912d9e83cdd0922d152">   71</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#aa58f0180c060e912d9e83cdd0922d152">ToSubordinate</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">IsPrimal</a>() ? <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ac30849455035a3b095198ad36f83f2eb">ToDual</a>() : *<span class="keyword">this</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#a0234c6380a757b4a36f4dcba25dc6b21">   75</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a0234c6380a757b4a36f4dcba25dc6b21">operator==</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> name_ == rhs.name_;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutAxis.html#a5f510601a3a63b5b192278a18347b6a7">   79</a></span>&#160;  <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a5f510601a3a63b5b192278a18347b6a7">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; l) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    os &lt;&lt; l.<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> os;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a> UPPER_CASE[];</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a> LOWER_CASE[];</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp;);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp;);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> name) : name_(name) {}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> name_;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;};</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// Internal node container Buffer</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutNode.html">   96</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a> : <span class="keyword">public</span> Object {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutNode.html#a7cdbaa55c5e21044c01fd99d46096140">   99</a></span>&#160;  std::string <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html#a7cdbaa55c5e21044c01fd99d46096140">name</a>;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutNode.html#a4287f43c0ae133205d9803f4fadc3d88">  106</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;tir::IterVar&gt;</a> <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html#a4287f43c0ae133205d9803f4fadc3d88">axes</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutNode.html#a2977b7ca9f44e09896696bcdb4b61953">  108</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html#a2977b7ca9f44e09896696bcdb4b61953">VisitAttrs</a>(<a class="code" href="classtvm_1_1AttrVisitor.html">AttrVisitor</a>* v) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;name&quot;</span>, &amp;name);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;axes&quot;</span>, &amp;axes);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  TVM_DLL <span class="keyword">static</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#ab5b179ce478f9a1d01b3e44809040486">make</a>(<span class="keyword">const</span> std::string&amp; layout);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1LayoutNode.html#aaca4fc16e14cb9867cd9f3564b4dd59f">  115</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* _type_key = <span class="stringliteral">&quot;Layout&quot;</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="object_8h.html#a3aea9b3f65aeb9150c0fa7800e5573c6">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>, Object);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html">  129</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> : <span class="keyword">public</span> ObjectRef {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#abf3ba7ad67d43133c8f4f9beb21edf32">  131</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html#abf3ba7ad67d43133c8f4f9beb21edf32">Layout</a>(ObjectPtr&lt;Object&gt; n) : ObjectRef(n) {}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;tir::IterVar&gt;</a>&amp; axes);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a11a8465c3cc562e408a48a7f0fd324fd">  139</a></span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html#a11a8465c3cc562e408a48a7f0fd324fd">Layout</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>) : <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>(<a class="code" href="namespacestd.html">std</a>::string(name)) {} <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>); <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#aef6a0989eb7c1a0b9a0707a465cbaa9b">  155</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>* <a class="code" href="classtvm_1_1tir_1_1Layout.html#aef6a0989eb7c1a0b9a0707a465cbaa9b">operator-&gt;</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">get</span>());</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a24d1414e53ab3bd153942bf5de5402e2">  163</a></span>&#160;  <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>* <a class="code" href="classtvm_1_1tir_1_1Layout.html#a24d1414e53ab3bd153942bf5de5402e2">operator-&gt;</a>() {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>*<span class="keyword">&gt;</span>(get_mutable());</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a1c7bdf466d341ad61aba104db318ee0e">  171</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>&amp; <a class="code" href="classtvm_1_1tir_1_1Layout.html#a1c7bdf466d341ad61aba104db318ee0e">Undef</a>() {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">static</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> undef;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> undef;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> SubLayout(<span class="keywordtype">size_t</span> pos, <span class="keywordtype">size_t</span> len) <span class="keyword">const</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> Split(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a> &amp;axis, <span class="keywordtype">size_t</span> target_pos, int32_t factor) <span class="keyword">const</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a4bca97ce52386c053a442ff960581f92">  197</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html#a4bca97ce52386c053a442ff960581f92">ndim</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (!defined()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> operator-&gt;()-&gt;axes.size();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a2f983c2de370c89a9f0b12ebcf9fec0c">  203</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html#a2f983c2de370c89a9f0b12ebcf9fec0c">ndim_primal</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (!defined()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">size_t</span> ct = 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x : operator-&gt;()-&gt;axes) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(x).<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">IsPrimal</a>()) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        ct++;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> ct;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a88c306ea4682d28b85032277fa29df63">  219</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> <a class="code" href="classtvm_1_1tir_1_1Layout.html#a88c306ea4682d28b85032277fa29df63">ExpandPrimal</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>&amp; dst_layout) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> new_src_layout;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// 1) Find the axis which are missing in the current layout. Make them the prefix.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    std::string new_src_layout_str = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> dst_axis : dst_layout-&gt;<a class="code" href="classtvm_1_1tir_1_1LayoutNode.html#a4287f43c0ae133205d9803f4fadc3d88">axes</a>) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(dst_axis).<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">IsPrimal</a>()) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;Contains(<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(dst_axis))) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          new_src_layout_str += dst_axis-&gt;var-&gt;name_hint;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// 2) Now, add the primal axis of the current layout.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    new_src_layout_str += this-&gt;<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    new_src_layout = <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>(new_src_layout_str);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> new_src_layout;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a0fa224417a05bc774c6e4fc8093ca75a">  243</a></span>&#160;  <span class="keyword">inline</span> int32_t <a class="code" href="classtvm_1_1tir_1_1Layout.html#a0fa224417a05bc774c6e4fc8093ca75a">IndexOf</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; axis)<span class="keyword"> const </span>{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;defined()) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> axes = operator-&gt;()-&gt;axes;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; axes.<a class="code" href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">size</a>(); ++i) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">if</span> (axes[i]-&gt;<a class="code" href="namespacetvm_1_1te.html#ae0c71f84710b436cbe0b32289d0838f4">var</a>-&gt;<a class="code" href="classtvm_1_1tir_1_1VarNode.html#ac09a97d7c89f6d50b2a8f198e0917dce">name_hint</a> == axis.<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>()) <span class="keywordflow">return</span> static_cast&lt;int32_t&gt;(i);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  int32_t FactorOf(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; axis) <span class="keyword">const</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a57a19f7b1c1f3d05d333f6c10272006e">  266</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html#a57a19f7b1c1f3d05d333f6c10272006e">Contains</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; axis)<span class="keyword"> const </span>{</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (!defined()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1IterVar.html">tir::IterVar</a> <a class="code" href="namespacetvm_1_1te.html#ae0c71f84710b436cbe0b32289d0838f4">var</a> : operator-&gt;()-&gt;axes) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (var-&gt;<a class="code" href="classtvm_1_1tir_1_1IterVarNode.html#a09036ef2df09e7caf21e66dcb62675a6">var</a>-&gt;<a class="code" href="classtvm_1_1tir_1_1VarNode.html#ac09a97d7c89f6d50b2a8f198e0917dce">name_hint</a> == axis.<a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>()) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#afa5744d258322fb0d9c50c52374bcd9f">  276</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html">LayoutAxis</a>&amp; <a class="code" href="classtvm_1_1tir_1_1Layout.html#afa5744d258322fb0d9c50c52374bcd9f">operator[]</a>(int32_t i)<span class="keyword"> const </span>{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    CHECK(defined()) &lt;&lt; <span class="stringliteral">&quot;Try to access axis from an undefined layout.&quot;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    int32_t index = i &lt; 0 ? static_cast&lt;int32_t&gt;(ndim() + i) : i;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    CHECK(index &gt;= 0 &amp;&amp; static_cast&lt;size_t&gt;(index) &lt; ndim()) &lt;&lt; <span class="stringliteral">&quot;Invalid index &quot;</span> &lt;&lt; i;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1IterVar.html">tir::IterVar</a> axis = operator-&gt;()-&gt;axes[index];</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">LayoutAxis::Get</a>(axis);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a9c22206c841f0f09e20d56b9c96b321d">  285</a></span>&#160;  <span class="keyword">inline</span> std::string <a class="code" href="classtvm_1_1tir_1_1Layout.html#a9c22206c841f0f09e20d56b9c96b321d">name</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (!defined()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;__undef__&quot;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> operator-&gt;()-&gt;name;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a2edd48a0abe23330747e815e9598b62e">  295</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html#a2edd48a0abe23330747e815e9598b62e">Equals</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> &amp;rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">name</a>() == rhs.<a class="code" href="classtvm_1_1tir_1_1Layout.html#a9c22206c841f0f09e20d56b9c96b321d">name</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a4d0f3b738af6b70040980e1287282377">  305</a></span>&#160;  <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classtvm_1_1tir_1_1Layout.html#a4d0f3b738af6b70040980e1287282377">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a>&amp; l) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    os &lt;&lt; l.<a class="code" href="classtvm_1_1tir_1_1Layout.html#a9c22206c841f0f09e20d56b9c96b321d">name</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> os;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1Layout.html#a34e09318237c606d8e3dfd6267ae72b8">  310</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">ContainerType</a> = <a class="code" href="classtvm_1_1tir_1_1LayoutNode.html">LayoutNode</a>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;};</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html">BijectiveLayout</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">// Internal node container BijectiveLayout</span></div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">  315</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a> : <span class="keyword">public</span> Object {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a21eb51d30c60622b38aec8a0953fd763">  320</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a21eb51d30c60622b38aec8a0953fd763">forward_rule</a>;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#af412c66da78635c724c74c581242d6b0">  322</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#af412c66da78635c724c74c581242d6b0">backward_rule</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a265fb704868822f0cdd00146353020d0">  325</a></span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a265fb704868822f0cdd00146353020d0">src_layout</a>;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a3d5c2dcbfb62a658a7779129aacd8950">  327</a></span>&#160;  <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a3d5c2dcbfb62a658a7779129aacd8950">dst_layout</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a58436540190348f9109940ccd4ffe5d7">  329</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a58436540190348f9109940ccd4ffe5d7">VisitAttrs</a>(<a class="code" href="classtvm_1_1AttrVisitor.html">AttrVisitor</a>* v) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;src_layout&quot;</span>, &amp;src_layout);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;dst_layout&quot;</span>, &amp;dst_layout);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;forward_rule&quot;</span>, &amp;forward_rule);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    v-&gt;Visit(<span class="stringliteral">&quot;backward_rule&quot;</span>, &amp;backward_rule);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#aff70675c76b7f2caf714c8de10e4167f">  336</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* _type_key = <span class="stringliteral">&quot;BijectiveLayout&quot;</span>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="object_8h.html#a3aea9b3f65aeb9150c0fa7800e5573c6">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a>, Object);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;};</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayout.html">  345</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html">BijectiveLayout</a> : <span class="keyword">public</span> ObjectRef {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html">BijectiveLayout</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayout.html#a791c28bc770ab7405162b00b06b19944">  348</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html#a791c28bc770ab7405162b00b06b19944">BijectiveLayout</a>(ObjectPtr&lt;Object&gt; n) : ObjectRef(n) {}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html">BijectiveLayout</a>(<a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> src_layout, <a class="code" href="classtvm_1_1tir_1_1Layout.html">Layout</a> dst_layout);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// Given the source shape, infer the destination shape.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> ForwardShape(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a>&amp; <a class="code" href="namespacetopi.html#a649c66231bc50f3ed98ac8bb6b6e2518">shape</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// Given the destination shape, recover the source shape.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> BackwardShape(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a>&amp; dst_shape) <span class="keyword">const</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Given the destination indices, infer the destination indices.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> ForwardIndex(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a>&amp; index) <span class="keyword">const</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// Given the destination indices, recover the source indices.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  TVM_DLL <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a> BackwardIndex(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;PrimExpr&gt;</a>&amp; dst_index) <span class="keyword">const</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a>* operator-&gt;() <span class="keyword">const</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayout.html#a0a25c034e42d58d166dc03447369ca8d">  372</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">ContainerType</a> = <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;};</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classtvm_1_1tir_1_1BijectiveLayout.html#ac2efbd7baab4ee14888a30efb6cecbf1">  375</a></span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a>* <a class="code" href="classtvm_1_1tir_1_1BijectiveLayout.html#ac2efbd7baab4ee14888a30efb6cecbf1">BijectiveLayout::operator-&gt;</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">BijectiveLayoutNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">get</span>());</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}  <span class="comment">// namespace tir</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}  <span class="comment">// namespace tvm</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#endif  // TVM_TIR_DATA_LAYOUT_H_</span></div><div class="ttc" id="classtvm_1_1tir_1_1LayoutNode_html"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutNode.html">tvm::tir::LayoutNode</a></div><div class="ttdef"><b>Definition:</b> data_layout.h:96</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_afa5744d258322fb0d9c50c52374bcd9f"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#afa5744d258322fb0d9c50c52374bcd9f">tvm::tir::Layout::operator[]</a></div><div class="ttdeci">const LayoutAxis &amp; operator[](int32_t i) const </div><div class="ttdef"><b>Definition:</b> data_layout.h:276</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html">tvm::tir::Layout</a></div><div class="ttdoc">Layout is to describe how data is organized within an N-dimention tensor. It is composed of upper cas...</div><div class="ttdef"><b>Definition:</b> data_layout.h:129</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_ac30849455035a3b095198ad36f83f2eb"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#ac30849455035a3b095198ad36f83f2eb">tvm::tir::LayoutAxis::ToDual</a></div><div class="ttdeci">const LayoutAxis &amp; ToDual() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:57</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_ab5b179ce478f9a1d01b3e44809040486"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#ab5b179ce478f9a1d01b3e44809040486">tvm::tir::LayoutAxis::make</a></div><div class="ttdeci">static const LayoutAxis &amp; make(const std::string &amp;name)</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutNode_html_a2977b7ca9f44e09896696bcdb4b61953"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutNode.html#a2977b7ca9f44e09896696bcdb4b61953">tvm::tir::LayoutNode::VisitAttrs</a></div><div class="ttdeci">void VisitAttrs(AttrVisitor *v)</div><div class="ttdef"><b>Definition:</b> data_layout.h:108</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html_a21eb51d30c60622b38aec8a0953fd763"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a21eb51d30c60622b38aec8a0953fd763">tvm::tir::BijectiveLayoutNode::forward_rule</a></div><div class="ttdeci">Array&lt; PrimExpr &gt; forward_rule</div><div class="ttdoc">Describes how source axes can be mapped to the destination axes, e.g., [i0 / 16, i1, i0 % 16] can describe NC -&gt; NC16n. </div><div class="ttdef"><b>Definition:</b> data_layout.h:320</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a6c150ee7d3e46117b099d2052b19aec5"><div class="ttname"><a href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">tvm::Array::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> container.h:246</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a2edd48a0abe23330747e815e9598b62e"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a2edd48a0abe23330747e815e9598b62e">tvm::tir::Layout::Equals</a></div><div class="ttdeci">bool Equals(const Layout &amp;rhs) const </div><div class="ttdoc">Whether the two layouts are equal. </div><div class="ttdef"><b>Definition:</b> data_layout.h:295</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html_a58436540190348f9109940ccd4ffe5d7"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a58436540190348f9109940ccd4ffe5d7">tvm::tir::BijectiveLayoutNode::VisitAttrs</a></div><div class="ttdeci">void VisitAttrs(AttrVisitor *v)</div><div class="ttdef"><b>Definition:</b> data_layout.h:329</div></div>
<div class="ttc" id="namespacetvm_html"><div class="ttname"><a href="namespacetvm.html">tvm</a></div><div class="ttdef"><b>Definition:</b> analyzer.h:36</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_a5f510601a3a63b5b192278a18347b6a7"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#a5f510601a3a63b5b192278a18347b6a7">tvm::tir::LayoutAxis::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const LayoutAxis &amp;l)</div><div class="ttdef"><b>Definition:</b> data_layout.h:79</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayout_html_a791c28bc770ab7405162b00b06b19944"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayout.html#a791c28bc770ab7405162b00b06b19944">tvm::tir::BijectiveLayout::BijectiveLayout</a></div><div class="ttdeci">BijectiveLayout(ObjectPtr&lt; Object &gt; n)</div><div class="ttdef"><b>Definition:</b> data_layout.h:348</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutNode_html_a4287f43c0ae133205d9803f4fadc3d88"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutNode.html#a4287f43c0ae133205d9803f4fadc3d88">tvm::tir::LayoutNode::axes</a></div><div class="ttdeci">Array&lt; tir::IterVar &gt; axes</div><div class="ttdoc">specify each axis of the layout, in which the variable name is the name of the axis. The IterVar&amp;#39;s extent indicates the size of the axis, it is a variable for a primal axis, but a constant for a subordinate axis. Empty for scalar&amp;#39;s layout. </div><div class="ttdef"><b>Definition:</b> data_layout.h:106</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a0fa224417a05bc774c6e4fc8093ca75a"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a0fa224417a05bc774c6e4fc8093ca75a">tvm::tir::Layout::IndexOf</a></div><div class="ttdeci">int32_t IndexOf(const LayoutAxis &amp;axis) const </div><div class="ttdoc">return the index of the input axis. If it is not found in the layout or the layout is undefined...</div><div class="ttdef"><b>Definition:</b> data_layout.h:243</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_a0234c6380a757b4a36f4dcba25dc6b21"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#a0234c6380a757b4a36f4dcba25dc6b21">tvm::tir::LayoutAxis::operator==</a></div><div class="ttdeci">bool operator==(const LayoutAxis &amp;rhs) const </div><div class="ttdef"><b>Definition:</b> data_layout.h:75</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayout_html_ac2efbd7baab4ee14888a30efb6cecbf1"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayout.html#ac2efbd7baab4ee14888a30efb6cecbf1">tvm::tir::BijectiveLayout::operator-&gt;</a></div><div class="ttdeci">const BijectiveLayoutNode * operator-&gt;() const </div><div class="ttdoc">access the internal node container </div><div class="ttdef"><b>Definition:</b> data_layout.h:375</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1IterVar_html"><div class="ttname"><a href="classtvm_1_1tir_1_1IterVar.html">tvm::tir::IterVar</a></div><div class="ttdoc">Iteration Variable, represents an iteration over an integer interval. </div><div class="ttdef"><b>Definition:</b> expr.h:254</div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> container.h:588</div></div>
<div class="ttc" id="tir_2op_8h_html"><div class="ttname"><a href="tir_2op_8h.html">op.h</a></div><div class="ttdoc">Common operators defined for Expr. </div></div>
<div class="ttc" id="namespacetopi_html_a649c66231bc50f3ed98ac8bb6b6e2518"><div class="ttname"><a href="namespacetopi.html#a649c66231bc50f3ed98ac8bb6b6e2518">topi::shape</a></div><div class="ttdeci">Tensor shape(const Tensor &amp;src, DataType dtype, const std::string name=&quot;T_shape&quot;, const std::string tag=kInjective)</div><div class="ttdoc">Get the shape of input tensor. </div><div class="ttdef"><b>Definition:</b> transform.h:1283</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a57a19f7b1c1f3d05d333f6c10272006e"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a57a19f7b1c1f3d05d333f6c10272006e">tvm::tir::Layout::Contains</a></div><div class="ttdeci">bool Contains(const LayoutAxis &amp;axis) const </div><div class="ttdoc">Whether the layout contains an axis. </div><div class="ttdef"><b>Definition:</b> data_layout.h:266</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a4bca97ce52386c053a442ff960581f92"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a4bca97ce52386c053a442ff960581f92">tvm::tir::Layout::ndim</a></div><div class="ttdeci">size_t ndim() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:197</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html_af412c66da78635c724c74c581242d6b0"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#af412c66da78635c724c74c581242d6b0">tvm::tir::BijectiveLayoutNode::backward_rule</a></div><div class="ttdeci">Array&lt; PrimExpr &gt; backward_rule</div><div class="ttdoc">Describes how destination axes can be mapped to the source axes. </div><div class="ttdef"><b>Definition:</b> data_layout.h:322</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html">tvm::tir::LayoutAxis</a></div><div class="ttdef"><b>Definition:</b> data_layout.h:42</div></div>
<div class="ttc" id="classtvm_1_1AttrVisitor_html"><div class="ttname"><a href="classtvm_1_1AttrVisitor.html">tvm::AttrVisitor</a></div><div class="ttdoc">Visitor class for to get the attributesof a AST/IR node. The content is going to be called for each f...</div><div class="ttdef"><b>Definition:</b> reflection.h:52</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a1c7bdf466d341ad61aba104db318ee0e"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a1c7bdf466d341ad61aba104db318ee0e">tvm::tir::Layout::Undef</a></div><div class="ttdeci">static const Layout &amp; Undef()</div><div class="ttdoc">Return an undefined layout. </div><div class="ttdef"><b>Definition:</b> data_layout.h:171</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_a273d3cfc07193e551292450bc2b0e56f"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#a273d3cfc07193e551292450bc2b0e56f">tvm::tir::LayoutAxis::Get</a></div><div class="ttdeci">static const LayoutAxis &amp; Get(const char name)</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_aef6a0989eb7c1a0b9a0707a465cbaa9b"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#aef6a0989eb7c1a0b9a0707a465cbaa9b">tvm::tir::Layout::operator-&gt;</a></div><div class="ttdeci">const LayoutNode * operator-&gt;() const </div><div class="ttdoc">access the internal node container </div><div class="ttdef"><b>Definition:</b> data_layout.h:155</div></div>
<div class="ttc" id="classtvm_1_1Array_html"><div class="ttname"><a href="classtvm_1_1Array.html">tvm::Array</a></div><div class="ttdoc">Array container of NodeRef in DSL graph. Array implements copy on write semantics, which means array is mutable but copy will happen when array is referenced in more than two places. </div><div class="ttdef"><b>Definition:</b> container.h:141</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html_a3d5c2dcbfb62a658a7779129aacd8950"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a3d5c2dcbfb62a658a7779129aacd8950">tvm::tir::BijectiveLayoutNode::dst_layout</a></div><div class="ttdeci">Layout dst_layout</div><div class="ttdoc">The destination layout. </div><div class="ttdef"><b>Definition:</b> data_layout.h:327</div></div>
<div class="ttc" id="tir_2expr_8h_html"><div class="ttname"><a href="tir_2expr_8h.html">expr.h</a></div><div class="ttdoc">TIR expressions. </div></div>
<div class="ttc" id="classtvm_1_1tir_1_1IterVarNode_html_a09036ef2df09e7caf21e66dcb62675a6"><div class="ttname"><a href="classtvm_1_1tir_1_1IterVarNode.html#a09036ef2df09e7caf21e66dcb62675a6">tvm::tir::IterVarNode::var</a></div><div class="ttdeci">Var var</div><div class="ttdoc">The looping variable. </div><div class="ttdef"><b>Definition:</b> expr.h:287</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a2f983c2de370c89a9f0b12ebcf9fec0c"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a2f983c2de370c89a9f0b12ebcf9fec0c">tvm::tir::Layout::ndim_primal</a></div><div class="ttdeci">size_t ndim_primal() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:203</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_a79346e18a79feccd955471d13212fa15"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#a79346e18a79feccd955471d13212fa15">tvm::tir::LayoutAxis::name</a></div><div class="ttdeci">std::string name() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:53</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html">tvm::tir::BijectiveLayoutNode</a></div><div class="ttdef"><b>Definition:</b> data_layout.h:315</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_aa58f0180c060e912d9e83cdd0922d152"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#aa58f0180c060e912d9e83cdd0922d152">tvm::tir::LayoutAxis::ToSubordinate</a></div><div class="ttdeci">const LayoutAxis &amp; ToSubordinate() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:71</div></div>
<div class="ttc" id="namespacetvm_1_1te_html_ae0c71f84710b436cbe0b32289d0838f4"><div class="ttname"><a href="namespacetvm_1_1te.html#ae0c71f84710b436cbe0b32289d0838f4">tvm::te::var</a></div><div class="ttdeci">Var var(std::string name_hint, DataType t=DataType::Int(32))</div><div class="ttdoc">Construct a new Var expression. </div></div>
<div class="ttc" id="object_8h_html_a3aea9b3f65aeb9150c0fa7800e5573c6"><div class="ttname"><a href="object_8h.html#a3aea9b3f65aeb9150c0fa7800e5573c6">TVM_DECLARE_FINAL_OBJECT_INFO</a></div><div class="ttdeci">#define TVM_DECLARE_FINAL_OBJECT_INFO(TypeName, ParentType)</div><div class="ttdoc">helper macro to declare type information in a final class. </div><div class="ttdef"><b>Definition:</b> object.h:678</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a4d0f3b738af6b70040980e1287282377"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a4d0f3b738af6b70040980e1287282377">tvm::tir::Layout::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const Layout &amp;l)</div><div class="ttdoc">allow output string of layout to ostream </div><div class="ttdef"><b>Definition:</b> data_layout.h:305</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayout_html"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayout.html">tvm::tir::BijectiveLayout</a></div><div class="ttdoc">Bijective function mapping for data layout transformation. Given two Layout, BijectiveLayout build an...</div><div class="ttdef"><b>Definition:</b> data_layout.h:345</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_abf3ba7ad67d43133c8f4f9beb21edf32"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#abf3ba7ad67d43133c8f4f9beb21edf32">tvm::tir::Layout::Layout</a></div><div class="ttdeci">Layout(ObjectPtr&lt; Object &gt; n)</div><div class="ttdef"><b>Definition:</b> data_layout.h:131</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a9c22206c841f0f09e20d56b9c96b321d"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a9c22206c841f0f09e20d56b9c96b321d">tvm::tir::Layout::name</a></div><div class="ttdeci">std::string name() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:285</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a11a8465c3cc562e408a48a7f0fd324fd"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a11a8465c3cc562e408a48a7f0fd324fd">tvm::tir::Layout::Layout</a></div><div class="ttdeci">Layout(const char *name)</div><div class="ttdoc">construct from a string </div><div class="ttdef"><b>Definition:</b> data_layout.h:139</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_ada7181b764f93bdd1d4cedf476922364"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#ada7181b764f93bdd1d4cedf476922364">tvm::tir::LayoutAxis::ToPrimal</a></div><div class="ttdeci">const LayoutAxis &amp; ToPrimal() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:66</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1BijectiveLayoutNode_html_a265fb704868822f0cdd00146353020d0"><div class="ttname"><a href="classtvm_1_1tir_1_1BijectiveLayoutNode.html#a265fb704868822f0cdd00146353020d0">tvm::tir::BijectiveLayoutNode::src_layout</a></div><div class="ttdeci">Layout src_layout</div><div class="ttdoc">The source layout. </div><div class="ttdef"><b>Definition:</b> data_layout.h:325</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1VarNode_html_ac09a97d7c89f6d50b2a8f198e0917dce"><div class="ttname"><a href="classtvm_1_1tir_1_1VarNode.html#ac09a97d7c89f6d50b2a8f198e0917dce">tvm::tir::VarNode::name_hint</a></div><div class="ttdeci">std::string name_hint</div><div class="ttdoc">The hint to the variable name. </div><div class="ttdef"><b>Definition:</b> expr.h:62</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutAxis_html_a13e11bef75e29b71977779124f72e1b9"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutAxis.html#a13e11bef75e29b71977779124f72e1b9">tvm::tir::LayoutAxis::IsPrimal</a></div><div class="ttdeci">bool IsPrimal() const </div><div class="ttdef"><b>Definition:</b> data_layout.h:52</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1LayoutNode_html_a7cdbaa55c5e21044c01fd99d46096140"><div class="ttname"><a href="classtvm_1_1tir_1_1LayoutNode.html#a7cdbaa55c5e21044c01fd99d46096140">tvm::tir::LayoutNode::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">string representation of layout, &quot;&quot; for scalar. </div><div class="ttdef"><b>Definition:</b> data_layout.h:99</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a24d1414e53ab3bd153942bf5de5402e2"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a24d1414e53ab3bd153942bf5de5402e2">tvm::tir::Layout::operator-&gt;</a></div><div class="ttdeci">LayoutNode * operator-&gt;()</div><div class="ttdoc">access the internal node container </div><div class="ttdef"><b>Definition:</b> data_layout.h:163</div></div>
<div class="ttc" id="classtvm_1_1tir_1_1Layout_html_a88c306ea4682d28b85032277fa29df63"><div class="ttname"><a href="classtvm_1_1tir_1_1Layout.html#a88c306ea4682d28b85032277fa29df63">tvm::tir::Layout::ExpandPrimal</a></div><div class="ttdeci">Layout ExpandPrimal(const Layout &amp;dst_layout)</div><div class="ttdoc">Returns a new layout where the dims have been expanded to match the primal dimensions. </div><div class="ttdef"><b>Definition:</b> data_layout.h:219</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
