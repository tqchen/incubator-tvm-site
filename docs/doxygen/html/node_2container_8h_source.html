<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tvm: include/tvm/node/container.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tvm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b4c7d8e826c599ba55146c099a14beb5.html">tvm</a></li><li class="navelem"><a class="el" href="dir_6cd4295f6ad5aa17e5b568d0e5b190e5.html">node</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">container.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="node_2container_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * or more contributor license agreements.  See the NOTICE file</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * distributed with this work for additional information</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * to you under the Apache License, Version 2.0 (the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * with the License.  You may obtain a copy of the License at</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * software distributed under the License is distributed on an</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * KIND, either express or implied.  See the License for the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * specific language governing permissions and limitations</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * under the License.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifndef TVM_NODE_CONTAINER_H_</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define TVM_NODE_CONTAINER_H_</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="object_8h.html">tvm/runtime/object.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="runtime_2memory_8h.html">tvm/runtime/memory.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="packed__func_8h.html">tvm/runtime/packed_func.h</a>&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;initializer_list&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetvm.html">tvm</a> {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using</span> runtime::Object;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using</span> runtime::ObjectPtr;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using</span> runtime::ObjectRef;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacetvm_1_1runtime.html#a93466f4543eedc3925c66ed0e7ef2671">runtime::make_object</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using</span> runtime::ObjectHash;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using</span> runtime::ObjectEqual;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classtvm_1_1ArrayNode.html">   47</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a> : <span class="keyword">public</span> Object {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">   50</a></span>&#160;  std::vector&lt;ObjectRef&gt; <a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classtvm_1_1ArrayNode.html#af9cb38fb40d44e3351abb28c4042c43c">   52</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtvm_1_1ArrayNode.html#af9cb38fb40d44e3351abb28c4042c43c">_type_key</a> = <span class="stringliteral">&quot;Array&quot;</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classtvm_1_1ArrayNode.html#a70f730ac25dc44057db0fec77b58b297">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>, Object);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classtvm_1_1MapNode.html">   57</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a> : <span class="keyword">public</span> Object {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1MapNode.html#a0d54038e74462216ea11a3a64ff694cd">ContainerType</a> = std::unordered_map&lt;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    ObjectRef,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    ObjectRef,</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classtvm_1_1MapNode.html#a0d54038e74462216ea11a3a64ff694cd">   63</a></span>&#160;    ObjectHash, ObjectEqual&gt;;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">   66</a></span>&#160;  <a class="code" href="classtvm_1_1MapNode.html#a0d54038e74462216ea11a3a64ff694cd">ContainerType</a> <a class="code" href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">data</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classtvm_1_1MapNode.html#a789b3b6435184c1e01e6cb7e97e5e37d">   68</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtvm_1_1ArrayNode.html#af9cb38fb40d44e3351abb28c4042c43c">_type_key</a> = <span class="stringliteral">&quot;Map&quot;</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="classtvm_1_1ArrayNode.html#a70f730ac25dc44057db0fec77b58b297">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1MapNode.html">MapNode</a>, Object);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;};</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classtvm_1_1StrMapNode.html">   74</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a> : <span class="keyword">public</span> Object {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classtvm_1_1StrMapNode.html#aecbcb8cc7967c9f4734621e7e6959a77">   77</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1StrMapNode.html#aecbcb8cc7967c9f4734621e7e6959a77">ContainerType</a> = std::unordered_map&lt;std::string, ObjectRef&gt;;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">   80</a></span>&#160;  <a class="code" href="classtvm_1_1StrMapNode.html#aecbcb8cc7967c9f4734621e7e6959a77">ContainerType</a> <a class="code" href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">data</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classtvm_1_1StrMapNode.html#accfa1041faca61e5ef9d77bbf3d73acb">   82</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtvm_1_1ArrayNode.html#af9cb38fb40d44e3351abb28c4042c43c">_type_key</a> = <span class="stringliteral">&quot;StrMap&quot;</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classtvm_1_1ArrayNode.html#a70f730ac25dc44057db0fec77b58b297">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>, Object);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;};</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Converter,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;         <span class="keyword">typename</span> TIter&gt;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html">   93</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a> {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a6fcccf32d94242ce3b0613db5bcd53d5">   95</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html#a6fcccf32d94242ce3b0613db5bcd53d5">difference_type</a> = <span class="keyword">typename</span> std::iterator_traits&lt;TIter&gt;::difference_type;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a920384d7073ed15812199181625d857e">   96</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html#a920384d7073ed15812199181625d857e">value_type</a> = <span class="keyword">typename</span> Converter::ResultType;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#acdd89c4869bbb96d00fafd85ff3a3492">   97</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html#acdd89c4869bbb96d00fafd85ff3a3492">pointer</a> = <span class="keyword">typename</span> Converter::ResultType*;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a02187b2d7b029d2f27c4d999b84f958d">   98</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html#a02187b2d7b029d2f27c4d999b84f958d">reference</a> = <span class="keyword">typename</span> Converter::ResultType&amp;;   <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a2fa322bdb58941c57c6f25ea53678ed7">   99</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html#a2fa322bdb58941c57c6f25ea53678ed7">iterator_category</a> = <span class="keyword">typename</span> std::iterator_traits&lt;TIter&gt;::iterator_category;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a5b0e7480919d0179691292f053e8b58a">  101</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1IterAdapter.html#a5b0e7480919d0179691292f053e8b58a">IterAdapter</a>(TIter iter) : iter_(iter) {}</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a26651fc29c5a8b7d3902cec7c68978c3">  102</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&amp; <a class="code" href="classtvm_1_1IterAdapter.html#a26651fc29c5a8b7d3902cec7c68978c3">operator++</a>() {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    ++iter_;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a632448e530261af4f8d20cd1c7d6f604">  106</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a> <a class="code" href="classtvm_1_1IterAdapter.html#a632448e530261af4f8d20cd1c7d6f604">operator+</a>(<a class="code" href="classtvm_1_1IterAdapter.html#a6fcccf32d94242ce3b0613db5bcd53d5">difference_type</a> offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>(iter_ + offset);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T = IterAdapter&gt;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">typename</span> std::enable_if&lt;std::is_same&lt;iterator_category, std::random_access_iterator_tag&gt;::value,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                          <span class="keyword">typename</span> T::difference_type&gt;::type</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a730c42eead8dc1ae5b0d5dd8b6c749a9">  113</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html#a730c42eead8dc1ae5b0d5dd8b6c749a9">operator-</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&amp; rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> iter_ - rhs.iter_;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a8bb0653979acc063862d800adb846d64">  117</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1IterAdapter.html#a8bb0653979acc063862d800adb846d64">operator==</a>(<a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a> other)<span class="keyword"> const </span>{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> iter_ == other.iter_;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#adddb09d93d6148a0bd9a7763b5d603f6">  120</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1IterAdapter.html#adddb09d93d6148a0bd9a7763b5d603f6">operator!=</a>(<a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a> other)<span class="keyword"> const </span>{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == other);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classtvm_1_1IterAdapter.html#a19d48c13586d042b39484bf8bae24aca">  123</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtvm_1_1IterAdapter.html#a920384d7073ed15812199181625d857e">value_type</a> <a class="code" href="classtvm_1_1IterAdapter.html#a19d48c13586d042b39484bf8bae24aca">operator*</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> Converter::convert(*iter_);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  TIter iter_;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;         <span class="keyword">typename</span> = <span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;ObjectRef, T&gt;::value&gt;::type &gt;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html">  141</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1Array.html">Array</a> : <span class="keyword">public</span> ObjectRef {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#aab72ecf006512069d8f791e3cae3eee0">  146</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#aab72ecf006512069d8f791e3cae3eee0">Array</a>() {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    data_ = make_object&lt;ArrayNode&gt;();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a42ad68bcaefafa48967fa815cdb1e9fe">  153</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#a42ad68bcaefafa48967fa815cdb1e9fe">Array</a>(<a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a> &amp;&amp; other) : ObjectRef() {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a48ecf47f2a0bc8dfaddc8da83300deed">  160</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#a48ecf47f2a0bc8dfaddc8da83300deed">Array</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a> &amp;other) : ObjectRef() { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#abda937076918f8123b1fc62303a940a4">  167</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1Array.html#abda937076918f8123b1fc62303a940a4">Array</a>(ObjectPtr&lt;Object&gt; n) : ObjectRef(n) {}</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a8e465f5428bc1189dfd6eaf7075bb96f">  175</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#a8e465f5428bc1189dfd6eaf7075bb96f">Array</a>(IterType begin, IterType end) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    assign(begin, end);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a9cd4b1d4c96884994152797a15df7343">  182</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#a9cd4b1d4c96884994152797a15df7343">Array</a>(std::initializer_list&lt;T&gt; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a92ba9f4611201b6bad1fb46f5944922e">  189</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html#a92ba9f4611201b6bad1fb46f5944922e">Array</a>(<span class="keyword">const</span> std::vector&lt;T&gt;&amp; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#ae409fb0a54ed7fb8c34b7b0445f88802">  197</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1Array.html#ae409fb0a54ed7fb8c34b7b0445f88802">Array</a>(<span class="keywordtype">size_t</span> n, <span class="keyword">const</span> T&amp; val) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keyword">auto</span> tmp_node = make_object&lt;ArrayNode&gt;();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      tmp_node-&gt;data.push_back(val);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    data_ = std::move(tmp_node);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#acf66932043c572cb9fec8813dbe5d596">  209</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a>&amp; <a class="code" href="classtvm_1_1Array.html#acf66932043c572cb9fec8813dbe5d596">operator=</a>(<a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a> &amp;&amp; other) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a06969623060ee1bb0e82ba7a43513450">  218</a></span>&#160;  <a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a>&amp; <a class="code" href="classtvm_1_1Array.html#a06969623060ee1bb0e82ba7a43513450">operator=</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Array.html">Array&lt;T&gt;</a> &amp; other) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    data_ = other.data_;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a5eebc9ddbd2e257d0586443b6d493df3">  229</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Array.html#a5eebc9ddbd2e257d0586443b6d493df3">assign</a>(IterType begin, IterType end) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">auto</span> n = make_object&lt;ArrayNode&gt;();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">for</span> (IterType it = begin; it != end; ++it) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      n-&gt;data.push_back(T(*it));</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    data_ = std::move(n);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#afed60e692eab1b2511b07a2b20751878">  241</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="classtvm_1_1Array.html#afed60e692eab1b2511b07a2b20751878">operator[]</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> DowncastNoCheck&lt;T&gt;(</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i]);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">  246</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">size</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.size();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a8ebe3653e2bcef7481ab6264f7c231c8">  258</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* <a class="code" href="classtvm_1_1Array.html#a8ebe3653e2bcef7481ab6264f7c231c8">CopyOnWrite</a>() {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span> || !data_.unique())  {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      ObjectPtr&lt;ArrayNode&gt; n = make_object&lt;ArrayNode&gt;();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      n-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      ObjectPtr&lt;Object&gt;(std::move(n)).swap(data_);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(data_.get());</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">  270</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">push_back</a>(<span class="keyword">const</span> T&amp; item) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* n = this-&gt;CopyOnWrite();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    n-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.push_back(item);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a8303345e666f9c72586721bc067e7fc9">  278</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Array.html#a8303345e666f9c72586721bc067e7fc9">resize</a>(<span class="keywordtype">size_t</span> size) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* n = this-&gt;CopyOnWrite();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    n-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.resize(size);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#ab3db968deb4be7a51767f22d267eb7af">  287</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Array.html#ab3db968deb4be7a51767f22d267eb7af">Set</a>(<span class="keywordtype">size_t</span> i, <span class="keyword">const</span> T&amp; value) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* n = this-&gt;CopyOnWrite();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    n-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i] = value;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a531169863918d8464aa4b905d236674f">  292</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1Array.html#a531169863918d8464aa4b905d236674f">empty</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> size() == 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> F&gt;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#abb864921139827a886c8fec5b7796041">  302</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Array.html#abb864921139827a886c8fec5b7796041">MutateByApply</a>(F fmutate) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* ptr = <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(data_.get());</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (data_.unique()) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="comment">// Copy on write optimization.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="comment">// Perform inplace update because this is an unique copy.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.size(); ++i) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// It is important to use move here</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">// to make prevent the element&#39;s ref count from increasing</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="comment">// so fmutate itself can perform copy-on-write optimization</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        T old_elem = DowncastNoCheck&lt;T&gt;(std::move(ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i]));</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        T new_elem = fmutate(std::move(old_elem));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i] = std::move(new_elem);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// lazily trigger copy if there is element change.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      ObjectPtr&lt;ArrayNode&gt; copy;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.size(); ++i) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        T old_elem = DowncastNoCheck&lt;T&gt;(ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i]);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        T new_elem = fmutate(old_elem);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span> (!new_elem.same_as(ptr-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>[i])) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          <span class="comment">// copy the old array</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <span class="keywordflow">if</span> (copy == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            copy = runtime::make_object&lt;ArrayNode&gt;(*ptr);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          copy-&gt;data[i] = std::move(new_elem);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="comment">// replace the data with the new copy.</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">if</span> (copy != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        data_ = std::move(copy);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#ab85f7f463f8a418f6b4dcffdf43b007c">  338</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1ArrayNode.html">ContainerType</a> = <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structtvm_1_1Array_1_1ValueConverter.html">  340</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structtvm_1_1Array_1_1ValueConverter.html">ValueConverter</a> {</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structtvm_1_1Array_1_1ValueConverter.html#a27595671e0540369dd58f6a49622b3c2">  341</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structtvm_1_1Array_1_1ValueConverter.html#a27595671e0540369dd58f6a49622b3c2">ResultType</a> = T;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structtvm_1_1Array_1_1ValueConverter.html#a0401a5aec9c7fa5f4d4388a835528434">  342</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">inline</span> T <a class="code" href="structtvm_1_1Array_1_1ValueConverter.html#a0401a5aec9c7fa5f4d4388a835528434">convert</a>(<span class="keyword">const</span> ObjectRef&amp; n) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">return</span> DowncastNoCheck&lt;T&gt;(n);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  };</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> = <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&lt;<a class="code" href="structtvm_1_1Array_1_1ValueConverter.html">ValueConverter</a>,</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a82550eb5257293ba5af8866aa8ff16e6">  347</a></span>&#160;                               std::vector&lt;ObjectRef&gt;::const_iterator&gt;;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html">reverse_iterator</a> = <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&lt;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    ValueConverter,</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a6b71ab5c7c8c2abffe81a0ea3842fd1a">  351</a></span>&#160;    std::vector&lt;ObjectRef&gt;::const_reverse_iterator&gt;;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a5db0d3faad39ca865162e50d555a25fa">  354</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> <a class="code" href="classtvm_1_1Array.html#a5db0d3faad39ca865162e50d555a25fa">begin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const ArrayNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.begin());</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#a6f05e6a14eca3ea865da0f293b4a5325">  358</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> <a class="code" href="classtvm_1_1Array.html#a6f05e6a14eca3ea865da0f293b4a5325">end</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const ArrayNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.end());</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#ad9e24a3208ffabbc079db08804a6f602">  362</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">reverse_iterator</a> <a class="code" href="classtvm_1_1Array.html#ad9e24a3208ffabbc079db08804a6f602">rbegin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">reverse_iterator</a>(static_cast&lt;const ArrayNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.rbegin());</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classtvm_1_1Array.html#adc2c5ea9dacd9a1fae22c409a39007b8">  366</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">reverse_iterator</a> <a class="code" href="classtvm_1_1Array.html#adc2c5ea9dacd9a1fae22c409a39007b8">rend</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">reverse_iterator</a>(static_cast&lt;const ArrayNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.rend());</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;};</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> K,</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <span class="keyword">typename</span> V,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         <span class="keyword">typename</span> = <span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;           std::is_base_of&lt;ObjectRef, K&gt;::value ||</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;           std::is_base_of&lt;std::string, K&gt;::value &gt;::type,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;         <span class="keyword">typename</span> = <span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;ObjectRef, V&gt;::value&gt;::type&gt;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html">  386</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1Map.html">Map</a> : <span class="keyword">public</span> ObjectRef {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a3c4b1ad987313584daca3c58724dddf5">  391</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#a3c4b1ad987313584daca3c58724dddf5">Map</a>() {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    data_ = make_object&lt;MapNode&gt;();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a58ada92864cf1d2cf8cb57444feaed9b">  398</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#a58ada92864cf1d2cf8cb57444feaed9b">Map</a>(<a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a> &amp;&amp; other) {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#aa552c0ed42255384f95f341871458d7a">  405</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#aa552c0ed42255384f95f341871458d7a">Map</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a> &amp;other) : ObjectRef(other.data_) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#ad2f79c81a070cd75a1dc934bafd59916">  411</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1Map.html#ad2f79c81a070cd75a1dc934bafd59916">Map</a>(ObjectPtr&lt;Object&gt; n) : ObjectRef(n) {}</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a37cda7c1e644cba140276d8b8690655e">  419</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#a37cda7c1e644cba140276d8b8690655e">Map</a>(IterType begin, IterType end) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    assign(begin, end);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#ae56d036579f1bc05367f511ecb1e95da">  426</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#ae56d036579f1bc05367f511ecb1e95da">Map</a>(std::initializer_list&lt;std::pair&lt;K, V&gt; &gt; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Hash, <span class="keyword">typename</span> Equal&gt;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a13a270f095bad489247edf8e0d15f9c9">  434</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html#a13a270f095bad489247edf8e0d15f9c9">Map</a>(<span class="keyword">const</span> std::unordered_map&lt;K, V, Hash, Equal&gt;&amp; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#acf11920f50d9a6283cd2f1ed9985bfca">  442</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a>&amp; <a class="code" href="classtvm_1_1Map.html#acf11920f50d9a6283cd2f1ed9985bfca">operator=</a>(<a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a> &amp;&amp; other) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  }</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a4572b0679e99399dc42e139d3d773349">  451</a></span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a>&amp; <a class="code" href="classtvm_1_1Map.html#a4572b0679e99399dc42e139d3d773349">operator=</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Map.html">Map&lt;K, V&gt;</a> &amp; other) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    data_ = other.data_;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a7733c37bc18f3df529e3b2fdc01a072f">  462</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Map.html#a7733c37bc18f3df529e3b2fdc01a072f">assign</a>(IterType begin, IterType end) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    ObjectPtr&lt;MapNode&gt; n = make_object&lt;MapNode&gt;();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">for</span> (IterType i = begin; i != end; ++i) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      n-&gt;data.emplace(std::make_pair(i-&gt;first, i-&gt;second));</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    data_ = std::move(n);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#ac12a408b9dad9e7309aa12002b217fce">  474</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> V <a class="code" href="classtvm_1_1Map.html#ac12a408b9dad9e7309aa12002b217fce">operator[]</a>(<span class="keyword">const</span> K&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">return</span> DowncastNoCheck&lt;V&gt;(</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.at(key));</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  }</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#aa95a8fa173498e69eceba1aec8e49aba">  483</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> V <a class="code" href="classtvm_1_1Map.html#aa95a8fa173498e69eceba1aec8e49aba">at</a>(<span class="keyword">const</span> K&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">return</span> DowncastNoCheck&lt;V&gt;(</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.at(key));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  }</div><div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#aef62a3d36a718533366951bec5b64880">  488</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classtvm_1_1Map.html#aef62a3d36a718533366951bec5b64880">size</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.size();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a0e225214f7d7b360f2e73796abe7992a">  493</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classtvm_1_1Map.html#a0e225214f7d7b360f2e73796abe7992a">count</a>(<span class="keyword">const</span> K&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.count(key);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a0398bb9f0d33835a07f187d7e052b34d">  505</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1MapNode.html">MapNode</a>* <a class="code" href="classtvm_1_1Map.html#a0398bb9f0d33835a07f187d7e052b34d">CopyOnWrite</a>() {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span> || !data_.unique())  {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      ObjectPtr&lt;MapNode&gt; n = make_object&lt;MapNode&gt;();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      n-&gt;<a class="code" href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">data</a> = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      ObjectPtr&lt;Object&gt;(std::move(n)).swap(data_);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(data_.get());</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a01b57ff1ef565738f8ab391a5e4d5f7d">  518</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtvm_1_1Map.html#a01b57ff1ef565738f8ab391a5e4d5f7d">Set</a>(<span class="keyword">const</span> K&amp; key, <span class="keyword">const</span> V&amp; value) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="classtvm_1_1MapNode.html">MapNode</a>* n = this-&gt;CopyOnWrite();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    n-&gt;<a class="code" href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">data</a>[key] = value;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a7f5b744e65b40aca81a167cec715ec2a">  524</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtvm_1_1Map.html#a7f5b744e65b40aca81a167cec715ec2a">empty</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> size() == 0;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a032205a9ae4e6f2d945837e7185b3d1a">  528</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1MapNode.html">ContainerType</a> = <a class="code" href="classtvm_1_1MapNode.html">MapNode</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="structtvm_1_1Map_1_1ValueConverter.html">  530</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structtvm_1_1Map_1_1ValueConverter.html">ValueConverter</a> {</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="structtvm_1_1Map_1_1ValueConverter.html#afd4a4c5a243014ccfebb48fb18ad8588">  531</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structtvm_1_1Map_1_1ValueConverter.html#afd4a4c5a243014ccfebb48fb18ad8588">ResultType</a> = std::pair&lt;K, V&gt;;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structtvm_1_1Map_1_1ValueConverter.html#a82c6961ccf2b833396ff8742506bd32a">  532</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structtvm_1_1Map_1_1ValueConverter.html#afd4a4c5a243014ccfebb48fb18ad8588">ResultType</a> <a class="code" href="structtvm_1_1Map_1_1ValueConverter.html#a82c6961ccf2b833396ff8742506bd32a">convert</a>(<span class="keyword">const</span> std::pair&lt;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                     ObjectRef,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                     ObjectRef&gt;&amp; n) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">return</span> std::make_pair(DowncastNoCheck&lt;K&gt;(n.first),</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                            DowncastNoCheck&lt;V&gt;(n.second));</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  };</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> = <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&lt;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#ac692b6c03df9de0b1d49f719bf659ee1">  541</a></span>&#160;    ValueConverter, MapNode::ContainerType::const_iterator&gt;;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#abd05e398b026981426bce7c45c51e0aa">  544</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> <a class="code" href="classtvm_1_1Map.html#abd05e398b026981426bce7c45c51e0aa">begin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const MapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.begin());</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a0b475776d062f8fc32842e054d5674bd">  548</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> <a class="code" href="classtvm_1_1Map.html#a0b475776d062f8fc32842e054d5674bd">end</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const MapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.end());</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classtvm_1_1Map.html#a73c0a4bda4da7adceebe743274a9d7a8">  552</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> <a class="code" href="classtvm_1_1Map.html#a73c0a4bda4da7adceebe743274a9d7a8">find</a>(<span class="keyword">const</span> K&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        static_cast&lt;const MapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.find(key));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;};</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">// specialize of string map</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> V, <span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="keyword">class </span><a class="code" href="classtvm_1_1Map.html">Map</a>&lt;std::string, V, T1, T2&gt; : <span class="keyword">public</span> ObjectRef {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// for code reuse</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>() {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    data_ = make_object&lt;StrMapNode&gt;();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>(<a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a> &amp;&amp; other) {  <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a> &amp;other) : ObjectRef(other.data_) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classtvm_1_1Map.html">Map</a>(ObjectPtr&lt;Object&gt; n) : ObjectRef(n) {}</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>(IterType begin, IterType end) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    assign(begin, end);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>(std::initializer_list&lt;std::pair&lt;std::string, V&gt; &gt; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Hash, <span class="keyword">typename</span> Equal&gt;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map</a>(<span class="keyword">const</span> std::unordered_map&lt;std::string, V, Hash, Equal&gt;&amp; init) { <span class="comment">// NOLINT(*)</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    assign(init.begin(), init.end());</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a>&amp; operator=(<a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a> &amp;&amp; other) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    data_ = std::move(other.data_);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classtvm_1_1Map.html">Map&lt;std::string, V&gt;</a> &amp; other) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    data_ = other.data_;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IterType&gt;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordtype">void</span> assign(IterType begin, IterType end) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keyword">auto</span> n = make_object&lt;StrMapNode&gt;();</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">for</span> (IterType i = begin; i != end; ++i) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      n-&gt;data.emplace(std::make_pair(i-&gt;first, i-&gt;second));</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    data_ = std::move(n);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> V operator[](<span class="keyword">const</span> std::string&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span> DowncastNoCheck&lt;V&gt;(</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.at(key));</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> V at(<span class="keyword">const</span> std::string&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> DowncastNoCheck&lt;V&gt;(</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.at(key));</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> size()<span class="keyword"> const </span>{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.size();</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> count(<span class="keyword">const</span> std::string&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.count(key);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>* CopyOnWrite() {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (data_.get() == <span class="keyword">nullptr</span> || !data_.unique())  {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      ObjectPtr&lt;StrMapNode&gt; n = make_object&lt;StrMapNode&gt;();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      n-&gt;<a class="code" href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">data</a> = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      ObjectPtr&lt;Object&gt;(std::move(n)).swap(data_);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(data_.get());</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> Set(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> V&amp; value) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>* n = this-&gt;CopyOnWrite();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    n-&gt;<a class="code" href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">data</a>[key] = value;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> empty()<span class="keyword"> const </span>{</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> size() == 0;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1MapNode.html">ContainerType</a> = <a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keyword">struct </span>ValueConverter {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keyword">using</span> ResultType = std::pair&lt;std::string, V&gt;;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">static</span> <span class="keyword">inline</span> ResultType convert(<span class="keyword">const</span> std::pair&lt;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                     std::string,</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                                     ObjectRef&gt;&amp; n) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">return</span> std::make_pair(n.first, DowncastNoCheck&lt;V&gt;(n.second));</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  };</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keyword">using</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> = <a class="code" href="classtvm_1_1IterAdapter.html">IterAdapter</a>&lt;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    ValueConverter, StrMapNode::ContainerType::const_iterator&gt;;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> begin()<span class="keyword"> const </span>{</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const StrMapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.begin());</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> end()<span class="keyword"> const </span>{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const StrMapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.end());</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a> find(<span class="keyword">const</span> std::string&amp; key)<span class="keyword"> const </span>{</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtvm_1_1IterAdapter.html">iterator</a>(static_cast&lt;const StrMapNode*&gt;(data_.get())-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>.find(key));</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;};</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}  <span class="comment">// namespace tvm</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetvm.html">tvm</a> {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="keyword">namespace </span>runtime {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">// Additional overloads for PackedFunc checking.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html">  664</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker</a>&lt;<a class="code" href="classtvm_1_1Array.html">Array</a>&lt;T&gt; &gt; {</div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#add60b83f5e77c1d9016b65898bcbfe69">  665</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#add60b83f5e77c1d9016b65898bcbfe69">Check</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1runtime_1_1Object.html">Object</a>* ptr) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (!ptr-&gt;<a class="code" href="classtvm_1_1runtime_1_1Object.html#af1359ebff2c328ff0bb80083937c95dd">IsInstance</a>&lt;<a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>&gt;()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>* n = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1ArrayNode.html">ArrayNode</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : n-&gt;<a class="code" href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">data</a>) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;T&gt;::Check</a>(p.get())) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  }</div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#aab22b555cfe16d040c204527c73a3287">  676</a></span>&#160;  <span class="keyword">static</span> std::string <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#aab22b555cfe16d040c204527c73a3287">TypeName</a>() {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;List[&quot;</span> + <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;T&gt;::TypeName</a>() + <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;};</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> V&gt;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="keyword">struct </span><a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker</a>&lt;Map&lt;std::string, V&gt; &gt; {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> Check(<span class="keyword">const</span> <a class="code" href="classtvm_1_1runtime_1_1Object.html">Object</a>* ptr) {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (!ptr-&gt;<a class="code" href="classtvm_1_1runtime_1_1Object.html#af1359ebff2c328ff0bb80083937c95dd">IsInstance</a>&lt;<a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>&gt;()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>* n = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1StrMapNode.html">StrMapNode</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : n-&gt;<a class="code" href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">data</a>) {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;V&gt;::Check</a>(kv.second.get())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keyword">static</span> std::string TypeName() {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Map[str, &quot;</span> +</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;V&gt;::TypeName</a>()+ <span class="charliteral">&#39;]&#39;</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;};</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> V&gt;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html">  699</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker</a>&lt;Map&lt;K, V&gt; &gt; {</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a66cc223f8e80086a6396540546b07eed">  700</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a66cc223f8e80086a6396540546b07eed">Check</a>(<span class="keyword">const</span> <a class="code" href="classtvm_1_1runtime_1_1Object.html">Object</a>* ptr) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> (!ptr-&gt;<a class="code" href="classtvm_1_1runtime_1_1Object.html#af1359ebff2c328ff0bb80083937c95dd">IsInstance</a>&lt;<a class="code" href="classtvm_1_1MapNode.html">MapNode</a>&gt;()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtvm_1_1MapNode.html">MapNode</a>* n = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtvm_1_1MapNode.html">MapNode</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv : n-&gt;<a class="code" href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">data</a>) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;K&gt;::Check</a>(kv.first.get())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;V&gt;::Check</a>(kv.second.get())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a9cb994fc6604ad2c287d9e824e67d2e2">  710</a></span>&#160;  <span class="keyword">static</span> std::string <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a9cb994fc6604ad2c287d9e824e67d2e2">TypeName</a>() {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Map[&quot;</span> +</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;K&gt;::TypeName</a>() +</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="stringliteral">&quot;, &quot;</span> +</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">ObjectTypeChecker&lt;V&gt;::TypeName</a>()+ <span class="charliteral">&#39;]&#39;</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;};</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}  <span class="comment">// namespace runtime</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}  <span class="comment">// namespace tvm</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#endif  // TVM_NODE_CONTAINER_H_</span></div><div class="ttc" id="classtvm_1_1Array_html_a9cd4b1d4c96884994152797a15df7343"><div class="ttname"><a href="classtvm_1_1Array.html#a9cd4b1d4c96884994152797a15df7343">tvm::Array::Array</a></div><div class="ttdeci">Array(std::initializer_list&lt; T &gt; init)</div><div class="ttdoc">constructor from initializer list </div><div class="ttdef"><b>Definition:</b> container.h:182</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a4572b0679e99399dc42e139d3d773349"><div class="ttname"><a href="classtvm_1_1Map.html#a4572b0679e99399dc42e139d3d773349">tvm::Map::operator=</a></div><div class="ttdeci">Map&lt; K, V &gt; &amp; operator=(const Map&lt; K, V &gt; &amp;other)</div><div class="ttdoc">copy assign operator </div><div class="ttdef"><b>Definition:</b> container.h:451</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a5b0e7480919d0179691292f053e8b58a"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a5b0e7480919d0179691292f053e8b58a">tvm::IterAdapter::IterAdapter</a></div><div class="ttdeci">IterAdapter(TIter iter)</div><div class="ttdef"><b>Definition:</b> container.h:101</div></div>
<div class="ttc" id="classtvm_1_1Map_html_ac12a408b9dad9e7309aa12002b217fce"><div class="ttname"><a href="classtvm_1_1Map.html#ac12a408b9dad9e7309aa12002b217fce">tvm::Map::operator[]</a></div><div class="ttdeci">const V operator[](const K &amp;key) const </div><div class="ttdoc">Read element from map. </div><div class="ttdef"><b>Definition:</b> container.h:474</div></div>
<div class="ttc" id="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4_html_add60b83f5e77c1d9016b65898bcbfe69"><div class="ttname"><a href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#add60b83f5e77c1d9016b65898bcbfe69">tvm::runtime::ObjectTypeChecker&lt; Array&lt; T &gt; &gt;::Check</a></div><div class="ttdeci">static bool Check(const Object *ptr)</div><div class="ttdef"><b>Definition:</b> container.h:665</div></div>
<div class="ttc" id="structtvm_1_1Array_1_1ValueConverter_html_a0401a5aec9c7fa5f4d4388a835528434"><div class="ttname"><a href="structtvm_1_1Array_1_1ValueConverter.html#a0401a5aec9c7fa5f4d4388a835528434">tvm::Array::ValueConverter::convert</a></div><div class="ttdeci">static T convert(const ObjectRef &amp;n)</div><div class="ttdef"><b>Definition:</b> container.h:342</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a42ad68bcaefafa48967fa815cdb1e9fe"><div class="ttname"><a href="classtvm_1_1Array.html#a42ad68bcaefafa48967fa815cdb1e9fe">tvm::Array::Array</a></div><div class="ttdeci">Array(Array&lt; T &gt; &amp;&amp;other)</div><div class="ttdoc">move constructor </div><div class="ttdef"><b>Definition:</b> container.h:153</div></div>
<div class="ttc" id="classtvm_1_1MapNode_html"><div class="ttname"><a href="classtvm_1_1MapNode.html">tvm::MapNode</a></div><div class="ttdoc">map node content </div><div class="ttdef"><b>Definition:</b> container.h:57</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_adddb09d93d6148a0bd9a7763b5d603f6"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#adddb09d93d6148a0bd9a7763b5d603f6">tvm::IterAdapter::operator!=</a></div><div class="ttdeci">bool operator!=(IterAdapter other) const </div><div class="ttdef"><b>Definition:</b> container.h:120</div></div>
<div class="ttc" id="classtvm_1_1ArrayNode_html"><div class="ttname"><a href="classtvm_1_1ArrayNode.html">tvm::ArrayNode</a></div><div class="ttdoc">array node content in array </div><div class="ttdef"><b>Definition:</b> container.h:47</div></div>
<div class="ttc" id="classtvm_1_1Map_html_acf11920f50d9a6283cd2f1ed9985bfca"><div class="ttname"><a href="classtvm_1_1Map.html#acf11920f50d9a6283cd2f1ed9985bfca">tvm::Map::operator=</a></div><div class="ttdeci">Map&lt; K, V &gt; &amp; operator=(Map&lt; K, V &gt; &amp;&amp;other)</div><div class="ttdoc">move assign operator </div><div class="ttdef"><b>Definition:</b> container.h:442</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a6f05e6a14eca3ea865da0f293b4a5325"><div class="ttname"><a href="classtvm_1_1Array.html#a6f05e6a14eca3ea865da0f293b4a5325">tvm::Array::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> container.h:358</div></div>
<div class="ttc" id="structtvm_1_1Array_1_1ValueConverter_html_a27595671e0540369dd58f6a49622b3c2"><div class="ttname"><a href="structtvm_1_1Array_1_1ValueConverter.html#a27595671e0540369dd58f6a49622b3c2">tvm::Array::ValueConverter::ResultType</a></div><div class="ttdeci">T ResultType</div><div class="ttdef"><b>Definition:</b> container.h:341</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a730c42eead8dc1ae5b0d5dd8b6c749a9"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a730c42eead8dc1ae5b0d5dd8b6c749a9">tvm::IterAdapter::operator-</a></div><div class="ttdeci">std::enable_if&lt; std::is_same&lt; iterator_category, std::random_access_iterator_tag &gt;::value, typename T::difference_type &gt;::type operator-(const IterAdapter &amp;rhs) const </div><div class="ttdef"><b>Definition:</b> container.h:113</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a73c0a4bda4da7adceebe743274a9d7a8"><div class="ttname"><a href="classtvm_1_1Map.html#a73c0a4bda4da7adceebe743274a9d7a8">tvm::Map::find</a></div><div class="ttdeci">iterator find(const K &amp;key) const </div><div class="ttdef"><b>Definition:</b> container.h:552</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a0e225214f7d7b360f2e73796abe7992a"><div class="ttname"><a href="classtvm_1_1Map.html#a0e225214f7d7b360f2e73796abe7992a">tvm::Map::count</a></div><div class="ttdeci">size_t count(const K &amp;key) const </div><div class="ttdef"><b>Definition:</b> container.h:493</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a6c150ee7d3e46117b099d2052b19aec5"><div class="ttname"><a href="classtvm_1_1Array.html#a6c150ee7d3e46117b099d2052b19aec5">tvm::Array::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> container.h:246</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1Object_html_af1359ebff2c328ff0bb80083937c95dd"><div class="ttname"><a href="classtvm_1_1runtime_1_1Object.html#af1359ebff2c328ff0bb80083937c95dd">tvm::runtime::Object::IsInstance</a></div><div class="ttdeci">bool IsInstance() const </div><div class="ttdef"><b>Definition:</b> object.h:812</div></div>
<div class="ttc" id="classtvm_1_1StrMapNode_html"><div class="ttname"><a href="classtvm_1_1StrMapNode.html">tvm::StrMapNode</a></div><div class="ttdoc">specialized map node with string as key </div><div class="ttdef"><b>Definition:</b> container.h:74</div></div>
<div class="ttc" id="namespacetvm_html"><div class="ttname"><a href="namespacetvm.html">tvm</a></div><div class="ttdef"><b>Definition:</b> analyzer.h:36</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a24d5ac1f6730d46cb1a6d16729f0a7bb"><div class="ttname"><a href="classtvm_1_1Array.html#a24d5ac1f6730d46cb1a6d16729f0a7bb">tvm::Array::push_back</a></div><div class="ttdeci">void push_back(const T &amp;item)</div><div class="ttdoc">push a new item to the back of the list </div><div class="ttdef"><b>Definition:</b> container.h:270</div></div>
<div class="ttc" id="namespacetvm_1_1runtime_html_a93466f4543eedc3925c66ed0e7ef2671"><div class="ttname"><a href="namespacetvm_1_1runtime.html#a93466f4543eedc3925c66ed0e7ef2671">tvm::runtime::make_object</a></div><div class="ttdeci">ObjectPtr&lt; T &gt; make_object(Args &amp;&amp;...args)</div><div class="ttdoc">Allocate an object using default allocator. </div><div class="ttdef"><b>Definition:</b> memory.h:202</div></div>
<div class="ttc" id="classtvm_1_1Map_html_ae56d036579f1bc05367f511ecb1e95da"><div class="ttname"><a href="classtvm_1_1Map.html#ae56d036579f1bc05367f511ecb1e95da">tvm::Map::Map</a></div><div class="ttdeci">Map(std::initializer_list&lt; std::pair&lt; K, V &gt; &gt; init)</div><div class="ttdoc">constructor from initializer list </div><div class="ttdef"><b>Definition:</b> container.h:426</div></div>
<div class="ttc" id="runtime_2memory_8h_html"><div class="ttname"><a href="runtime_2memory_8h.html">memory.h</a></div><div class="ttdoc">Runtime memory management. </div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a26651fc29c5a8b7d3902cec7c68978c3"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a26651fc29c5a8b7d3902cec7c68978c3">tvm::IterAdapter::operator++</a></div><div class="ttdeci">IterAdapter &amp; operator++()</div><div class="ttdef"><b>Definition:</b> container.h:102</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a920384d7073ed15812199181625d857e"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a920384d7073ed15812199181625d857e">tvm::IterAdapter::value_type</a></div><div class="ttdeci">typename Converter::ResultType value_type</div><div class="ttdef"><b>Definition:</b> container.h:96</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a8bb0653979acc063862d800adb846d64"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a8bb0653979acc063862d800adb846d64">tvm::IterAdapter::operator==</a></div><div class="ttdeci">bool operator==(IterAdapter other) const </div><div class="ttdef"><b>Definition:</b> container.h:117</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a5eebc9ddbd2e257d0586443b6d493df3"><div class="ttname"><a href="classtvm_1_1Array.html#a5eebc9ddbd2e257d0586443b6d493df3">tvm::Array::assign</a></div><div class="ttdeci">void assign(IterType begin, IterType end)</div><div class="ttdoc">reset the array to content from iterator. </div><div class="ttdef"><b>Definition:</b> container.h:229</div></div>
<div class="ttc" id="classtvm_1_1Map_html_abd05e398b026981426bce7c45c51e0aa"><div class="ttname"><a href="classtvm_1_1Map.html#abd05e398b026981426bce7c45c51e0aa">tvm::Map::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> container.h:544</div></div>
<div class="ttc" id="classtvm_1_1runtime_1_1Object_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1Object.html">tvm::runtime::Object</a></div><div class="ttdoc">base class of all object containers. </div><div class="ttdef"><b>Definition:</b> object.h:144</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a58ada92864cf1d2cf8cb57444feaed9b"><div class="ttname"><a href="classtvm_1_1Map.html#a58ada92864cf1d2cf8cb57444feaed9b">tvm::Map::Map</a></div><div class="ttdeci">Map(Map&lt; K, V &gt; &amp;&amp;other)</div><div class="ttdoc">move constructor </div><div class="ttdef"><b>Definition:</b> container.h:398</div></div>
<div class="ttc" id="classtvm_1_1MapNode_html_a5fe08f7ea603500f5f7ccc7e69979c78"><div class="ttname"><a href="classtvm_1_1MapNode.html#a5fe08f7ea603500f5f7ccc7e69979c78">tvm::MapNode::data</a></div><div class="ttdeci">ContainerType data</div><div class="ttdoc">the data content </div><div class="ttdef"><b>Definition:</b> container.h:66</div></div>
<div class="ttc" id="classtvm_1_1StrMapNode_html_a2e0d7690f35ec6f99f850724c81e841f"><div class="ttname"><a href="classtvm_1_1StrMapNode.html#a2e0d7690f35ec6f99f850724c81e841f">tvm::StrMapNode::data</a></div><div class="ttdeci">ContainerType data</div><div class="ttdoc">the data content </div><div class="ttdef"><b>Definition:</b> container.h:80</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a92ba9f4611201b6bad1fb46f5944922e"><div class="ttname"><a href="classtvm_1_1Array.html#a92ba9f4611201b6bad1fb46f5944922e">tvm::Array::Array</a></div><div class="ttdeci">Array(const std::vector&lt; T &gt; &amp;init)</div><div class="ttdoc">constructor from vector </div><div class="ttdef"><b>Definition:</b> container.h:189</div></div>
<div class="ttc" id="structtvm_1_1Array_1_1ValueConverter_html"><div class="ttname"><a href="structtvm_1_1Array_1_1ValueConverter.html">tvm::Array::ValueConverter</a></div><div class="ttdef"><b>Definition:</b> container.h:340</div></div>
<div class="ttc" id="structtvm_1_1Map_1_1ValueConverter_html_afd4a4c5a243014ccfebb48fb18ad8588"><div class="ttname"><a href="structtvm_1_1Map_1_1ValueConverter.html#afd4a4c5a243014ccfebb48fb18ad8588">tvm::Map::ValueConverter::ResultType</a></div><div class="ttdeci">std::pair&lt; K, V &gt; ResultType</div><div class="ttdef"><b>Definition:</b> container.h:531</div></div>
<div class="ttc" id="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4_html_a66cc223f8e80086a6396540546b07eed"><div class="ttname"><a href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a66cc223f8e80086a6396540546b07eed">tvm::runtime::ObjectTypeChecker&lt; Map&lt; K, V &gt; &gt;::Check</a></div><div class="ttdeci">static bool Check(const Object *ptr)</div><div class="ttdef"><b>Definition:</b> container.h:700</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html"><div class="ttname"><a href="classtvm_1_1IterAdapter.html">tvm::IterAdapter</a></div><div class="ttdoc">iterator adapter that adapts TIter to return another type. </div><div class="ttdef"><b>Definition:</b> container.h:93</div></div>
<div class="ttc" id="classtvm_1_1Map_html_aef62a3d36a718533366951bec5b64880"><div class="ttname"><a href="classtvm_1_1Map.html#aef62a3d36a718533366951bec5b64880">tvm::Map::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> container.h:488</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a2fa322bdb58941c57c6f25ea53678ed7"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a2fa322bdb58941c57c6f25ea53678ed7">tvm::IterAdapter::iterator_category</a></div><div class="ttdeci">typename std::iterator_traits&lt; TIter &gt;::iterator_category iterator_category</div><div class="ttdef"><b>Definition:</b> container.h:99</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a8303345e666f9c72586721bc067e7fc9"><div class="ttname"><a href="classtvm_1_1Array.html#a8303345e666f9c72586721bc067e7fc9">tvm::Array::resize</a></div><div class="ttdeci">void resize(size_t size)</div><div class="ttdoc">Resize the array. </div><div class="ttdef"><b>Definition:</b> container.h:278</div></div>
<div class="ttc" id="structtvm_1_1runtime_1_1ObjectTypeChecker_html"><div class="ttname"><a href="structtvm_1_1runtime_1_1ObjectTypeChecker.html">tvm::runtime::ObjectTypeChecker</a></div><div class="ttdoc">Type traits for runtime type check during FFI conversion. </div><div class="ttdef"><b>Definition:</b> packed_func.h:393</div></div>
<div class="ttc" id="classtvm_1_1Array_html"><div class="ttname"><a href="classtvm_1_1Array.html">tvm::Array</a></div><div class="ttdoc">Array container of NodeRef in DSL graph. Array implements copy on write semantics, which means array is mutable but copy will happen when array is referenced in more than two places. </div><div class="ttdef"><b>Definition:</b> container.h:141</div></div>
<div class="ttc" id="classtvm_1_1Map_html_aa95a8fa173498e69eceba1aec8e49aba"><div class="ttname"><a href="classtvm_1_1Map.html#aa95a8fa173498e69eceba1aec8e49aba">tvm::Map::at</a></div><div class="ttdeci">const V at(const K &amp;key) const </div><div class="ttdoc">Read element from map. </div><div class="ttdef"><b>Definition:</b> container.h:483</div></div>
<div class="ttc" id="structtvm_1_1Map_1_1ValueConverter_html"><div class="ttname"><a href="structtvm_1_1Map_1_1ValueConverter.html">tvm::Map::ValueConverter</a></div><div class="ttdef"><b>Definition:</b> container.h:530</div></div>
<div class="ttc" id="classtvm_1_1Map_html_aa552c0ed42255384f95f341871458d7a"><div class="ttname"><a href="classtvm_1_1Map.html#aa552c0ed42255384f95f341871458d7a">tvm::Map::Map</a></div><div class="ttdeci">Map(const Map&lt; K, V &gt; &amp;other)</div><div class="ttdoc">copy constructor </div><div class="ttdef"><b>Definition:</b> container.h:405</div></div>
<div class="ttc" id="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4_html_aab22b555cfe16d040c204527c73a3287"><div class="ttname"><a href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Array_3_01T_01_4_01_4.html#aab22b555cfe16d040c204527c73a3287">tvm::runtime::ObjectTypeChecker&lt; Array&lt; T &gt; &gt;::TypeName</a></div><div class="ttdeci">static std::string TypeName()</div><div class="ttdef"><b>Definition:</b> container.h:676</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a3c4b1ad987313584daca3c58724dddf5"><div class="ttname"><a href="classtvm_1_1Map.html#a3c4b1ad987313584daca3c58724dddf5">tvm::Map::Map</a></div><div class="ttdeci">Map()</div><div class="ttdoc">default constructor </div><div class="ttdef"><b>Definition:</b> container.h:391</div></div>
<div class="ttc" id="classtvm_1_1ArrayNode_html_a70f730ac25dc44057db0fec77b58b297"><div class="ttname"><a href="classtvm_1_1ArrayNode.html#a70f730ac25dc44057db0fec77b58b297">tvm::ArrayNode::TVM_DECLARE_FINAL_OBJECT_INFO</a></div><div class="ttdeci">TVM_DECLARE_FINAL_OBJECT_INFO(ArrayNode, Object)</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a48ecf47f2a0bc8dfaddc8da83300deed"><div class="ttname"><a href="classtvm_1_1Array.html#a48ecf47f2a0bc8dfaddc8da83300deed">tvm::Array::Array</a></div><div class="ttdeci">Array(const Array&lt; T &gt; &amp;other)</div><div class="ttdoc">copy constructor </div><div class="ttdef"><b>Definition:</b> container.h:160</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_acdd89c4869bbb96d00fafd85ff3a3492"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#acdd89c4869bbb96d00fafd85ff3a3492">tvm::IterAdapter::pointer</a></div><div class="ttdeci">typename Converter::ResultType * pointer</div><div class="ttdef"><b>Definition:</b> container.h:97</div></div>
<div class="ttc" id="classtvm_1_1Array_html_ab3db968deb4be7a51767f22d267eb7af"><div class="ttname"><a href="classtvm_1_1Array.html#ab3db968deb4be7a51767f22d267eb7af">tvm::Array::Set</a></div><div class="ttdeci">void Set(size_t i, const T &amp;value)</div><div class="ttdoc">set i-th element of the array. </div><div class="ttdef"><b>Definition:</b> container.h:287</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a531169863918d8464aa4b905d236674f"><div class="ttname"><a href="classtvm_1_1Array.html#a531169863918d8464aa4b905d236674f">tvm::Array::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> container.h:292</div></div>
<div class="ttc" id="classtvm_1_1Map_html_ad2f79c81a070cd75a1dc934bafd59916"><div class="ttname"><a href="classtvm_1_1Map.html#ad2f79c81a070cd75a1dc934bafd59916">tvm::Map::Map</a></div><div class="ttdeci">Map(ObjectPtr&lt; Object &gt; n)</div><div class="ttdoc">constructor from pointer </div><div class="ttdef"><b>Definition:</b> container.h:411</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a7733c37bc18f3df529e3b2fdc01a072f"><div class="ttname"><a href="classtvm_1_1Map.html#a7733c37bc18f3df529e3b2fdc01a072f">tvm::Map::assign</a></div><div class="ttdeci">void assign(IterType begin, IterType end)</div><div class="ttdoc">reset the array to content from iterator. </div><div class="ttdef"><b>Definition:</b> container.h:462</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a8e465f5428bc1189dfd6eaf7075bb96f"><div class="ttname"><a href="classtvm_1_1Array.html#a8e465f5428bc1189dfd6eaf7075bb96f">tvm::Array::Array</a></div><div class="ttdeci">Array(IterType begin, IterType end)</div><div class="ttdoc">constructor from iterator </div><div class="ttdef"><b>Definition:</b> container.h:175</div></div>
<div class="ttc" id="classtvm_1_1StrMapNode_html_aecbcb8cc7967c9f4734621e7e6959a77"><div class="ttname"><a href="classtvm_1_1StrMapNode.html#aecbcb8cc7967c9f4734621e7e6959a77">tvm::StrMapNode::ContainerType</a></div><div class="ttdeci">std::unordered_map&lt; std::string, ObjectRef &gt; ContainerType</div><div class="ttdoc">The corresponding conatiner type. </div><div class="ttdef"><b>Definition:</b> container.h:77</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a13a270f095bad489247edf8e0d15f9c9"><div class="ttname"><a href="classtvm_1_1Map.html#a13a270f095bad489247edf8e0d15f9c9">tvm::Map::Map</a></div><div class="ttdeci">Map(const std::unordered_map&lt; K, V, Hash, Equal &gt; &amp;init)</div><div class="ttdoc">constructor from vector </div><div class="ttdef"><b>Definition:</b> container.h:434</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a0b475776d062f8fc32842e054d5674bd"><div class="ttname"><a href="classtvm_1_1Map.html#a0b475776d062f8fc32842e054d5674bd">tvm::Map::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> container.h:548</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a6fcccf32d94242ce3b0613db5bcd53d5"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a6fcccf32d94242ce3b0613db5bcd53d5">tvm::IterAdapter::difference_type</a></div><div class="ttdeci">typename std::iterator_traits&lt; TIter &gt;::difference_type difference_type</div><div class="ttdef"><b>Definition:</b> container.h:95</div></div>
<div class="ttc" id="classtvm_1_1Array_html_abb864921139827a886c8fec5b7796041"><div class="ttname"><a href="classtvm_1_1Array.html#abb864921139827a886c8fec5b7796041">tvm::Array::MutateByApply</a></div><div class="ttdeci">void MutateByApply(F fmutate)</div><div class="ttdoc">Helper function to apply fmutate to mutate an array. </div><div class="ttdef"><b>Definition:</b> container.h:302</div></div>
<div class="ttc" id="classtvm_1_1ArrayNode_html_af9cb38fb40d44e3351abb28c4042c43c"><div class="ttname"><a href="classtvm_1_1ArrayNode.html#af9cb38fb40d44e3351abb28c4042c43c">tvm::ArrayNode::_type_key</a></div><div class="ttdeci">static constexpr const char * _type_key</div><div class="ttdef"><b>Definition:</b> container.h:52</div></div>
<div class="ttc" id="classtvm_1_1Array_html_ad9e24a3208ffabbc079db08804a6f602"><div class="ttname"><a href="classtvm_1_1Array.html#ad9e24a3208ffabbc079db08804a6f602">tvm::Array::rbegin</a></div><div class="ttdeci">reverse_iterator rbegin() const </div><div class="ttdef"><b>Definition:</b> container.h:362</div></div>
<div class="ttc" id="classtvm_1_1ArrayNode_html_a4bb8934345a35142365c296caac04e8f"><div class="ttname"><a href="classtvm_1_1ArrayNode.html#a4bb8934345a35142365c296caac04e8f">tvm::ArrayNode::data</a></div><div class="ttdeci">std::vector&lt; ObjectRef &gt; data</div><div class="ttdoc">the data content </div><div class="ttdef"><b>Definition:</b> container.h:50</div></div>
<div class="ttc" id="object_8h_html"><div class="ttname"><a href="object_8h.html">object.h</a></div><div class="ttdoc">A managed object in the TVM runtime. </div></div>
<div class="ttc" id="classtvm_1_1MapNode_html_a0d54038e74462216ea11a3a64ff694cd"><div class="ttname"><a href="classtvm_1_1MapNode.html#a0d54038e74462216ea11a3a64ff694cd">tvm::MapNode::ContainerType</a></div><div class="ttdeci">std::unordered_map&lt; ObjectRef, ObjectRef, ObjectHash, ObjectEqual &gt; ContainerType</div><div class="ttdoc">The corresponding conatiner type. </div><div class="ttdef"><b>Definition:</b> container.h:63</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a19d48c13586d042b39484bf8bae24aca"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a19d48c13586d042b39484bf8bae24aca">tvm::IterAdapter::operator*</a></div><div class="ttdeci">const value_type operator*() const </div><div class="ttdef"><b>Definition:</b> container.h:123</div></div>
<div class="ttc" id="classtvm_1_1Array_html_abda937076918f8123b1fc62303a940a4"><div class="ttname"><a href="classtvm_1_1Array.html#abda937076918f8123b1fc62303a940a4">tvm::Array::Array</a></div><div class="ttdeci">Array(ObjectPtr&lt; Object &gt; n)</div><div class="ttdoc">constructor from pointer </div><div class="ttdef"><b>Definition:</b> container.h:167</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a06969623060ee1bb0e82ba7a43513450"><div class="ttname"><a href="classtvm_1_1Array.html#a06969623060ee1bb0e82ba7a43513450">tvm::Array::operator=</a></div><div class="ttdeci">Array&lt; T &gt; &amp; operator=(const Array&lt; T &gt; &amp;other)</div><div class="ttdoc">copy assign operator </div><div class="ttdef"><b>Definition:</b> container.h:218</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a01b57ff1ef565738f8ab391a5e4d5f7d"><div class="ttname"><a href="classtvm_1_1Map.html#a01b57ff1ef565738f8ab391a5e4d5f7d">tvm::Map::Set</a></div><div class="ttdeci">void Set(const K &amp;key, const V &amp;value)</div><div class="ttdoc">set the Map. </div><div class="ttdef"><b>Definition:</b> container.h:518</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a5db0d3faad39ca865162e50d555a25fa"><div class="ttname"><a href="classtvm_1_1Array.html#a5db0d3faad39ca865162e50d555a25fa">tvm::Array::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> container.h:354</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a37cda7c1e644cba140276d8b8690655e"><div class="ttname"><a href="classtvm_1_1Map.html#a37cda7c1e644cba140276d8b8690655e">tvm::Map::Map</a></div><div class="ttdeci">Map(IterType begin, IterType end)</div><div class="ttdoc">constructor from iterator </div><div class="ttdef"><b>Definition:</b> container.h:419</div></div>
<div class="ttc" id="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4_html_a9cb994fc6604ad2c287d9e824e67d2e2"><div class="ttname"><a href="structtvm_1_1runtime_1_1ObjectTypeChecker_3_01Map_3_01K_00_01V_01_4_01_4.html#a9cb994fc6604ad2c287d9e824e67d2e2">tvm::runtime::ObjectTypeChecker&lt; Map&lt; K, V &gt; &gt;::TypeName</a></div><div class="ttdeci">static std::string TypeName()</div><div class="ttdef"><b>Definition:</b> container.h:710</div></div>
<div class="ttc" id="classtvm_1_1Array_html_acf66932043c572cb9fec8813dbe5d596"><div class="ttname"><a href="classtvm_1_1Array.html#acf66932043c572cb9fec8813dbe5d596">tvm::Array::operator=</a></div><div class="ttdeci">Array&lt; T &gt; &amp; operator=(Array&lt; T &gt; &amp;&amp;other)</div><div class="ttdoc">move assign operator </div><div class="ttdef"><b>Definition:</b> container.h:209</div></div>
<div class="ttc" id="classtvm_1_1Array_html_aab72ecf006512069d8f791e3cae3eee0"><div class="ttname"><a href="classtvm_1_1Array.html#aab72ecf006512069d8f791e3cae3eee0">tvm::Array::Array</a></div><div class="ttdeci">Array()</div><div class="ttdoc">default constructor </div><div class="ttdef"><b>Definition:</b> container.h:146</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a02187b2d7b029d2f27c4d999b84f958d"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a02187b2d7b029d2f27c4d999b84f958d">tvm::IterAdapter::reference</a></div><div class="ttdeci">typename Converter::ResultType &amp; reference</div><div class="ttdef"><b>Definition:</b> container.h:98</div></div>
<div class="ttc" id="classtvm_1_1Array_html_afed60e692eab1b2511b07a2b20751878"><div class="ttname"><a href="classtvm_1_1Array.html#afed60e692eab1b2511b07a2b20751878">tvm::Array::operator[]</a></div><div class="ttdeci">const T operator[](size_t i) const </div><div class="ttdoc">Read i-th element from array. </div><div class="ttdef"><b>Definition:</b> container.h:241</div></div>
<div class="ttc" id="classtvm_1_1Map_html"><div class="ttname"><a href="classtvm_1_1Map.html">tvm::Map</a></div><div class="ttdoc">Map container of NodeRef-&gt;NodeRef in DSL graph. Map implements copy on write semantics, which means map is mutable but copy will happen when array is referenced in more than two places. </div><div class="ttdef"><b>Definition:</b> container.h:386</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a0398bb9f0d33835a07f187d7e052b34d"><div class="ttname"><a href="classtvm_1_1Map.html#a0398bb9f0d33835a07f187d7e052b34d">tvm::Map::CopyOnWrite</a></div><div class="ttdeci">MapNode * CopyOnWrite()</div><div class="ttdoc">copy on write semantics Do nothing if current handle is the unique copy of the array. Otherwise make a new copy of the array to ensure the current handle hold a unique copy. </div><div class="ttdef"><b>Definition:</b> container.h:505</div></div>
<div class="ttc" id="structtvm_1_1Map_1_1ValueConverter_html_a82c6961ccf2b833396ff8742506bd32a"><div class="ttname"><a href="structtvm_1_1Map_1_1ValueConverter.html#a82c6961ccf2b833396ff8742506bd32a">tvm::Map::ValueConverter::convert</a></div><div class="ttdeci">static ResultType convert(const std::pair&lt; ObjectRef, ObjectRef &gt; &amp;n)</div><div class="ttdef"><b>Definition:</b> container.h:532</div></div>
<div class="ttc" id="classtvm_1_1Array_html_ae409fb0a54ed7fb8c34b7b0445f88802"><div class="ttname"><a href="classtvm_1_1Array.html#ae409fb0a54ed7fb8c34b7b0445f88802">tvm::Array::Array</a></div><div class="ttdeci">Array(size_t n, const T &amp;val)</div><div class="ttdoc">Constructs a container with n elements. Each element is a copy of val. </div><div class="ttdef"><b>Definition:</b> container.h:197</div></div>
<div class="ttc" id="classtvm_1_1Array_html_a8ebe3653e2bcef7481ab6264f7c231c8"><div class="ttname"><a href="classtvm_1_1Array.html#a8ebe3653e2bcef7481ab6264f7c231c8">tvm::Array::CopyOnWrite</a></div><div class="ttdeci">ArrayNode * CopyOnWrite()</div><div class="ttdoc">copy on write semantics Do nothing if current handle is the unique copy of the array. Otherwise make a new copy of the array to ensure the current handle hold a unique copy. </div><div class="ttdef"><b>Definition:</b> container.h:258</div></div>
<div class="ttc" id="classtvm_1_1Map_html_a7f5b744e65b40aca81a167cec715ec2a"><div class="ttname"><a href="classtvm_1_1Map.html#a7f5b744e65b40aca81a167cec715ec2a">tvm::Map::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> container.h:524</div></div>
<div class="ttc" id="classtvm_1_1Array_html_adc2c5ea9dacd9a1fae22c409a39007b8"><div class="ttname"><a href="classtvm_1_1Array.html#adc2c5ea9dacd9a1fae22c409a39007b8">tvm::Array::rend</a></div><div class="ttdeci">reverse_iterator rend() const </div><div class="ttdef"><b>Definition:</b> container.h:366</div></div>
<div class="ttc" id="classtvm_1_1IterAdapter_html_a632448e530261af4f8d20cd1c7d6f604"><div class="ttname"><a href="classtvm_1_1IterAdapter.html#a632448e530261af4f8d20cd1c7d6f604">tvm::IterAdapter::operator+</a></div><div class="ttdeci">IterAdapter operator+(difference_type offset) const </div><div class="ttdef"><b>Definition:</b> container.h:106</div></div>
<div class="ttc" id="packed__func_8h_html"><div class="ttname"><a href="packed__func_8h.html">packed_func.h</a></div><div class="ttdoc">Type-erased function used across TVM API. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
