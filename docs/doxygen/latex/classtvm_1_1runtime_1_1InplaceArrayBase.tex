\hypertarget{classtvm_1_1runtime_1_1InplaceArrayBase}{}\section{tvm\+:\+:runtime\+:\+:Inplace\+Array\+Base$<$ Array\+Type, Elem\+Type $>$ Class Template Reference}
\label{classtvm_1_1runtime_1_1InplaceArrayBase}\index{tvm\+::runtime\+::\+Inplace\+Array\+Base$<$ Array\+Type, Elem\+Type $>$@{tvm\+::runtime\+::\+Inplace\+Array\+Base$<$ Array\+Type, Elem\+Type $>$}}


Base template for classes with array like memory layout.  




{\ttfamily \#include $<$container.\+h$>$}



Collaboration diagram for tvm\+:\+:runtime\+:\+:Inplace\+Array\+Base$<$ Array\+Type, Elem\+Type $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{classtvm_1_1runtime_1_1InplaceArrayBase__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
const Elem\+Type \& \hyperlink{classtvm_1_1runtime_1_1InplaceArrayBase_a68c9bdbfd3a02ade0965972a0cd508cc}{operator\mbox{[}$\,$\mbox{]}} (size\+\_\+t idx) const 
\begin{DoxyCompactList}\small\item\em Access element at index. \end{DoxyCompactList}\item 
Elem\+Type \& \hyperlink{classtvm_1_1runtime_1_1InplaceArrayBase_a4b37b5fcd2285b818e8f623da8b326b2}{operator\mbox{[}$\,$\mbox{]}} (size\+\_\+t idx)
\begin{DoxyCompactList}\small\item\em Access element at index. \end{DoxyCompactList}\item 
\hyperlink{classtvm_1_1runtime_1_1InplaceArrayBase_ad1cf3446de62c7aba99235f2843f839f}{$\sim$\+Inplace\+Array\+Base} ()
\begin{DoxyCompactList}\small\item\em Destroy the Inplace \hyperlink{classtvm_1_1Array}{Array} Base object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename... Args$>$ }\\void \hyperlink{classtvm_1_1runtime_1_1InplaceArrayBase_a7900079ae38be41d93b522239d3ba4f2}{Emplace\+Init} (size\+\_\+t idx, Args \&\&...args)
\begin{DoxyCompactList}\small\item\em Construct a value in place with the arguments. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Array\+Type, typename Elem\+Type$>$\\*
class tvm\+::runtime\+::\+Inplace\+Array\+Base$<$ Array\+Type, Elem\+Type $>$}

Base template for classes with array like memory layout. 

It provides general methods to access the memory. The memory layout is Array\+Type + \mbox{[}Elem\+Type\mbox{]}. The alignment of Array\+Type and Elem\+Type is handled by the memory allocator.


\begin{DoxyTemplParams}{Template Parameters}
{\em Array\+Type} & The array header type, contains object specific metadata. \\
\hline
{\em Elem\+Type} & The type of objects stored in the array right after Array\+Type.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyCode}
\textcolor{comment}{// Example usage of the template to define a simple array wrapper}
\textcolor{keyword}{class }ArrayObj : \textcolor{keyword}{public} InplaceArrayBase<ArrayObj, Elem> \{
\textcolor{keyword}{public}:
 \textcolor{comment}{// Wrap EmplaceInit to initialize the elements}
 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iterator>
 \textcolor{keywordtype}{void} Init(Iterator begin, Iterator end) \{
  \textcolor{keywordtype}{size\_t} num\_elems = std::distance(begin, end);
  \textcolor{keyword}{auto} it = begin;
  this->size = 0;
  \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < num\_elems; ++i) \{
    \hyperlink{classtvm_1_1runtime_1_1InplaceArrayBase_a7900079ae38be41d93b522239d3ba4f2}{InplaceArrayBase::EmplaceInit}(i, *it++);
    this->size++;
  \}
 \}
\}

\textcolor{keywordtype}{void} test\_function() \{
  vector<Elem> fields;
  \textcolor{keyword}{auto} ptr = make\_inplace\_array\_object<ArrayObj, Elem>(fields.size());
  ptr->Init(fields.begin(), fields.end());

  \textcolor{comment}{// Access the 0th element in the array.}
  assert(ptr->operator[](0) == fields[0]);
\}
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\index{tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}!````~Inplace\+Array\+Base@{$\sim$\+Inplace\+Array\+Base}}
\index{````~Inplace\+Array\+Base@{$\sim$\+Inplace\+Array\+Base}!tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}}
\subsubsection[{\texorpdfstring{$\sim$\+Inplace\+Array\+Base()}{~InplaceArrayBase()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Array\+Type, typename Elem\+Type$>$ {\bf tvm\+::runtime\+::\+Inplace\+Array\+Base}$<$ Array\+Type, Elem\+Type $>$\+::$\sim${\bf Inplace\+Array\+Base} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtvm_1_1runtime_1_1InplaceArrayBase_ad1cf3446de62c7aba99235f2843f839f}{}\label{classtvm_1_1runtime_1_1InplaceArrayBase_ad1cf3446de62c7aba99235f2843f839f}


Destroy the Inplace \hyperlink{classtvm_1_1Array}{Array} Base object. 



\subsection{Member Function Documentation}
\index{tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}!Emplace\+Init@{Emplace\+Init}}
\index{Emplace\+Init@{Emplace\+Init}!tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}}
\subsubsection[{\texorpdfstring{Emplace\+Init(size\+\_\+t idx, Args \&\&...\+args)}{EmplaceInit(size_t idx, Args &&...args)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Array\+Type, typename Elem\+Type$>$ template$<$typename... Args$>$ void {\bf tvm\+::runtime\+::\+Inplace\+Array\+Base}$<$ Array\+Type, Elem\+Type $>$\+::Emplace\+Init (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{idx, }
\item[{Args \&\&...}]{args}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classtvm_1_1runtime_1_1InplaceArrayBase_a7900079ae38be41d93b522239d3ba4f2}{}\label{classtvm_1_1runtime_1_1InplaceArrayBase_a7900079ae38be41d93b522239d3ba4f2}


Construct a value in place with the arguments. 


\begin{DoxyTemplParams}{Template Parameters}
{\em Args} & \hyperlink{classtvm_1_1Type}{Type} parameters of the arguments. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em idx} & Index of the element. \\
\hline
{\em args} & Arguments to construct the new value.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Please make sure Array\+Type\+::\+Get\+Size returns 0 before first call of Emplace\+Init, and increment Get\+Size by 1 each time Emplace\+Init succeeds. 
\end{DoxyNote}
\index{tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}!operator\mbox{[}$\,$\mbox{]}@{operator[]}}
\index{operator\mbox{[}$\,$\mbox{]}@{operator[]}!tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}}
\subsubsection[{\texorpdfstring{operator[](size\+\_\+t idx) const }{operator[](size_t idx) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Array\+Type, typename Elem\+Type$>$ const Elem\+Type\& {\bf tvm\+::runtime\+::\+Inplace\+Array\+Base}$<$ Array\+Type, Elem\+Type $>$\+::operator\mbox{[}$\,$\mbox{]} (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{idx}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtvm_1_1runtime_1_1InplaceArrayBase_a68c9bdbfd3a02ade0965972a0cd508cc}{}\label{classtvm_1_1runtime_1_1InplaceArrayBase_a68c9bdbfd3a02ade0965972a0cd508cc}


Access element at index. 


\begin{DoxyParams}{Parameters}
{\em idx} & The index of the element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Const reference to Elem\+Type at the index. 
\end{DoxyReturn}
\index{tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}!operator\mbox{[}$\,$\mbox{]}@{operator[]}}
\index{operator\mbox{[}$\,$\mbox{]}@{operator[]}!tvm\+::runtime\+::\+Inplace\+Array\+Base@{tvm\+::runtime\+::\+Inplace\+Array\+Base}}
\subsubsection[{\texorpdfstring{operator[](size\+\_\+t idx)}{operator[](size_t idx)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Array\+Type, typename Elem\+Type$>$ Elem\+Type\& {\bf tvm\+::runtime\+::\+Inplace\+Array\+Base}$<$ Array\+Type, Elem\+Type $>$\+::operator\mbox{[}$\,$\mbox{]} (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classtvm_1_1runtime_1_1InplaceArrayBase_a4b37b5fcd2285b818e8f623da8b326b2}{}\label{classtvm_1_1runtime_1_1InplaceArrayBase_a4b37b5fcd2285b818e8f623da8b326b2}


Access element at index. 


\begin{DoxyParams}{Parameters}
{\em idx} & The index of the element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reference to Elem\+Type at the index. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/tvm/runtime/\hyperlink{runtime_2container_8h}{container.\+h}\end{DoxyCompactItemize}
