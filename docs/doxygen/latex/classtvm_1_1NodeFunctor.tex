\hypertarget{classtvm_1_1NodeFunctor}{}\section{tvm\+:\+:Node\+Functor$<$ F\+Type $>$ Class Template Reference}
\label{classtvm_1_1NodeFunctor}\index{tvm\+::\+Node\+Functor$<$ F\+Type $>$@{tvm\+::\+Node\+Functor$<$ F\+Type $>$}}


A dynamically dispatched functor on the type of the first argument.  




{\ttfamily \#include $<$functor.\+h$>$}



Collaboration diagram for tvm\+:\+:Node\+Functor$<$ F\+Type $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{classtvm_1_1NodeFunctor__coll__graph}
\end{center}
\end{figure}


\subsection{Detailed Description}
\subsubsection*{template$<$typename F\+Type$>$\\*
class tvm\+::\+Node\+Functor$<$ F\+Type $>$}

A dynamically dispatched functor on the type of the first argument. 

This is a class that is useful to construct polymorphic dispatching base on the A\+S\+T/\+IR node\textquotesingle{}s type.


\begin{DoxyCode}
NodeFunctor<std::string (const ObjectRef& n, std::string prefix)> tostr;
tostr.set\_dispatch<Add>([](\textcolor{keyword}{const} ObjectRef& op, std::string prefix) \{
  \textcolor{keywordflow}{return} prefix + \textcolor{stringliteral}{"Add"};
\});
tostr.set\_dispatch<IntImm>([](\textcolor{keyword}{const} ObjectRef& op, std::string prefix) \{
  \textcolor{keywordflow}{return} prefix + \textcolor{stringliteral}{"IntImm"}
\});

\hyperlink{namespacetvm_1_1relay_a5b84e3790f89bb3fad5c7911eeb99531}{Expr} x = \hyperlink{namespacetvm_1_1tir_a4ea566597880d04bd62fbec687e338b5}{make\_const}(1);
\hyperlink{namespacetvm_1_1relay_a5b84e3790f89bb3fad5c7911eeb99531}{Expr} y = x + x;
\textcolor{comment}{// dispatch to IntImm, outputs "MyIntImm"}
LOG(INFO) << tostr(x, \textcolor{stringliteral}{"My"});
\textcolor{comment}{// dispatch to IntImm, outputs "MyAdd"}
LOG(INFO) << tostr(y, \textcolor{stringliteral}{"My"});
\end{DoxyCode}



\begin{DoxyTemplParams}{Template Parameters}
{\em F\+Type} & function signiture This type if only defined for F\+Type with function signature \\
\hline
\end{DoxyTemplParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/tvm/node/\hyperlink{functor_8h}{functor.\+h}\end{DoxyCompactItemize}
