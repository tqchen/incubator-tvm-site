\hypertarget{ir_2type_8h}{}\section{include/tvm/ir/type.h File Reference}
\label{ir_2type_8h}\index{include/tvm/ir/type.\+h@{include/tvm/ir/type.\+h}}


I\+R/\+A\+ST nodes for the unified type system in T\+VM.  


{\ttfamily \#include $<$tvm/runtime/object.\+h$>$}\\*
{\ttfamily \#include $<$tvm/runtime/data\+\_\+type.\+h$>$}\\*
{\ttfamily \#include $<$tvm/node/node.\+h$>$}\\*
{\ttfamily \#include $<$tvm/node/container.\+h$>$}\\*
{\ttfamily \#include $<$tvm/ir/span.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
Include dependency graph for type.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ir_2type_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ir_2type_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classtvm_1_1TypeNode}{tvm\+::\+Type\+Node}
\begin{DoxyCompactList}\small\item\em \hyperlink{classtvm_1_1Type}{Type} is the base type of all types. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1Type}{tvm\+::\+Type}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1TypeNode}{Type\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1PrimTypeNode}{tvm\+::\+Prim\+Type\+Node}
\begin{DoxyCompactList}\small\item\em Primitive data types used in the low-\/level IR. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1PrimType}{tvm\+::\+Prim\+Type}
\item 
class \hyperlink{classtvm_1_1PointerTypeNode}{tvm\+::\+Pointer\+Type\+Node}
\begin{DoxyCompactList}\small\item\em Low-\/level raw pointer type. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1PointerType}{tvm\+::\+Pointer\+Type}
\item 
class \hyperlink{classtvm_1_1TypeVarNode}{tvm\+::\+Type\+Var\+Node}
\begin{DoxyCompactList}\small\item\em \hyperlink{classtvm_1_1Type}{Type} parameter in functions. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1TypeVar}{tvm\+::\+Type\+Var}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1TypeVarNode}{Type\+Var\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1GlobalTypeVarNode}{tvm\+::\+Global\+Type\+Var\+Node}
\begin{DoxyCompactList}\small\item\em A global type variable that is used for defining new types or type aliases. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1GlobalTypeVar}{tvm\+::\+Global\+Type\+Var}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1GlobalTypeVarNode}{Global\+Type\+Var\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1TupleTypeNode}{tvm\+::\+Tuple\+Type\+Node}
\begin{DoxyCompactList}\small\item\em The type of tuple values. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1TupleType}{tvm\+::\+Tuple\+Type}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1TupleTypeNode}{Tuple\+Type\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1TypeConstraintNode}{tvm\+::\+Type\+Constraint\+Node}
\begin{DoxyCompactList}\small\item\em Potential Constraints in a function. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1TypeConstraint}{tvm\+::\+Type\+Constraint}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1TypeConstraintNode}{Type\+Constraint\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1FuncTypeNode}{tvm\+::\+Func\+Type\+Node}
\begin{DoxyCompactList}\small\item\em Function type. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1FuncType}{tvm\+::\+Func\+Type}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1FuncTypeNode}{Func\+Type\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1IncompleteTypeNode}{tvm\+::\+Incomplete\+Type\+Node}
\begin{DoxyCompactList}\small\item\em Intermediate values that is used to indicate incomplete type during type inference. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1IncompleteType}{tvm\+::\+Incomplete\+Type}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1IncompleteTypeNode}{Incomplete\+Type\+Node}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1RelayRefTypeNode}{tvm\+::\+Relay\+Ref\+Type\+Node}
\begin{DoxyCompactList}\small\item\em Reference \hyperlink{classtvm_1_1Type}{Type} High-\/level Relay IR. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1RelayRefType}{tvm\+::\+Relay\+Ref\+Type}
\begin{DoxyCompactList}\small\item\em Managed reference to \hyperlink{classtvm_1_1RelayRefTypeNode}{Relay\+Ref\+Type\+Node}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacetvm}{tvm}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279}{tvm\+::\+Type\+Kind} \+: int \{ \\*
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279a46f081c7ea2307c83d3cdfd42e1583f7}{tvm\+::k\+Type} = 0, 
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279ad7d44c9f700aa20bcc455c6d9ee4ff18}{tvm\+::k\+Shape\+Var} = 1, 
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279a86ff765603911600b938cea9a65e984b}{tvm\+::k\+Base\+Type} = 2, 
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279a9496d61badd19161ce92108f06903606}{tvm\+::k\+Constraint} = 4, 
\\*
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279ab6bf8f8bef54e7ebbc8d9f804e94421e}{tvm\+::k\+Adt\+Handle} = 5, 
\hyperlink{namespacetvm_acd267f8d7f55da6ac681239831963279a8b02b25ecd96ab7f18ace5aa18f832ba}{tvm\+::k\+Type\+Data} = 6
 \}\begin{DoxyCompactList}\small\item\em Possible kinds of Type\+Vars. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Type \hyperlink{namespacetvm_a27df956aaa2e5e25005e0f9dc1638a08}{tvm\+::\+Void\+Type} ()
\item 
bool \hyperlink{namespacetvm_a196edb73fc9f13d965b8de1c9287a2db}{tvm\+::\+Is\+Void\+Type} (const Type \&type)
\begin{DoxyCompactList}\small\item\em Check whether the tyep represents void. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
I\+R/\+A\+ST nodes for the unified type system in T\+VM. 

We use Relay\textquotesingle{}s type system as the unified type system throughout the stack.

This file contains types that are common across IR variants.

\subsubsection*{Relation between Type and runtime\+::\+Data\+Type}

Besides Type, we also store a dtype field in the low-\/level Prim\+Expr. runtime\+::\+Data\+Type(dtype) provides coarse grained type information during compile time and runtime. It is eagerly built in low-\/level expression construction and can be used for quick type checking in the low-\/level IR. For example, when an Expr\textquotesingle{}s dtype is int32, we know for sure that its type is also int32.

On the other hand, Type provides more fine grained information. For example, a low level expression can have Data\+Type\+::\+Handle() as its dtype and Mem\+Ref\mbox{[}float32\mbox{]} as its type. Types are usually lazily constructed via type checking, so they may not readily be available during IR construction.

The unified Type serves as a common bridge across IR dialects. For example, we require all the functions to have a type signature, which allow us to build cross dialect function calls. 