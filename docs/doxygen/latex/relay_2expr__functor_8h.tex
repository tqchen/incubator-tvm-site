\hypertarget{relay_2expr__functor_8h}{}\section{include/tvm/relay/expr\+\_\+functor.h File Reference}
\label{relay_2expr__functor_8h}\index{include/tvm/relay/expr\+\_\+functor.\+h@{include/tvm/relay/expr\+\_\+functor.\+h}}


A more powerful visitor which enables defining arbitrary function signatures with type based dispatch on first argument.  


{\ttfamily \#include $<$tvm/node/functor.\+h$>$}\\*
{\ttfamily \#include $<$tvm/ir/error.\+h$>$}\\*
{\ttfamily \#include $<$tvm/relay/expr.\+h$>$}\\*
{\ttfamily \#include $<$tvm/relay/function.\+h$>$}\\*
{\ttfamily \#include $<$tvm/relay/adt.\+h$>$}\\*
{\ttfamily \#include $<$tvm/relay/op.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$utility$>$}\\*
{\ttfamily \#include $<$unordered\+\_\+map$>$}\\*
Include dependency graph for expr\+\_\+functor.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{relay_2expr__functor_8h__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classtvm_1_1relay_1_1ExprFunctor}{tvm\+::relay\+::\+Expr\+Functor$<$ F\+Type $>$}
\begin{DoxyCompactList}\small\item\em A dynamical functor that dispatches on in the first Expr argument. You can use this as a more powerful Visitor, since it allows you to define function signatures of Visit \hyperlink{classtvm_1_1relay_1_1Function}{Function}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1relay_1_1ExprFunctor_3_01R_07const_01Expr_01_6n_00_01Args_8_8_8_08_4}{tvm\+::relay\+::\+Expr\+Functor$<$ R(const Expr \&n, Args...)$>$}
\item 
class \hyperlink{classtvm_1_1relay_1_1ExprVisitor}{tvm\+::relay\+::\+Expr\+Visitor}
\begin{DoxyCompactList}\small\item\em A simple visitor wrapper around \hyperlink{classtvm_1_1relay_1_1ExprFunctor}{Expr\+Functor}. Recursively visit the content. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1relay_1_1ExprMutator}{tvm\+::relay\+::\+Expr\+Mutator}
\begin{DoxyCompactList}\small\item\em A wrapper around \hyperlink{classtvm_1_1relay_1_1ExprFunctor}{Expr\+Functor} which functionally updates the A\+ST. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacetvm}{tvm}
\item 
 \hyperlink{namespacetvm_1_1relay}{tvm\+::relay}
\begin{DoxyCompactList}\small\item\em Relay\+: a high level functional IR for T\+VM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{relay_2expr__functor_8h_a510edf612f00aa97a59ef1973d8caf2d}{E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}~\{ return Visit\+Expr\+Default\+\_\+(op, std\+::forward$<$Args$>$(args)...); \}
\item 
\#define \hyperlink{relay_2expr__functor_8h_a3276cc9ffce54170fd990719da56ce05}{R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}(OP)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{namespacetvm_1_1relay_a5ede3d80c546097084cf98b60e600b80}{tvm\+::relay\+::\+Post\+Order\+Visit} (const Expr \&node, std\+::function$<$ void(const Expr \&)$>$ fvisit)
\begin{DoxyCompactList}\small\item\em recursively visit the ir in post D\+FS order node, apply fvisit Each node is guaranteed to be visited only once. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A more powerful visitor which enables defining arbitrary function signatures with type based dispatch on first argument. 



\subsection{Macro Definition Documentation}
\index{relay/expr\+\_\+functor.\+h@{relay/expr\+\_\+functor.\+h}!E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT@{E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}}
\index{E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT@{E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}!relay/expr\+\_\+functor.\+h@{relay/expr\+\_\+functor.\+h}}
\subsubsection[{\texorpdfstring{E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}{EXPR_FUNCTOR_DEFAULT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT~\{ return Visit\+Expr\+Default\+\_\+(op, std\+::forward$<$Args$>$(args)...); \}}\hypertarget{relay_2expr__functor_8h_a510edf612f00aa97a59ef1973d8caf2d}{}\label{relay_2expr__functor_8h_a510edf612f00aa97a59ef1973d8caf2d}
\index{relay/expr\+\_\+functor.\+h@{relay/expr\+\_\+functor.\+h}!R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH@{R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}}
\index{R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH@{R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}!relay/expr\+\_\+functor.\+h@{relay/expr\+\_\+functor.\+h}}
\subsubsection[{\texorpdfstring{R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}{RELAY_EXPR_FUNCTOR_DISPATCH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+L\+A\+Y\+\_\+\+E\+X\+P\+R\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH(
\begin{DoxyParamCaption}
\item[{}]{OP}
\end{DoxyParamCaption}
)}\hypertarget{relay_2expr__functor_8h_a3276cc9ffce54170fd990719da56ce05}{}\label{relay_2expr__functor_8h_a3276cc9ffce54170fd990719da56ce05}
{\bfseries Value\+:}
\begin{DoxyCode}
vtable.template set\_dispatch<OP>(                                    \(\backslash\)
      [](\textcolor{keyword}{const} ObjectRef& n, TSelf* \textcolor{keyword}{self}, Args... args) \{                \(\backslash\)
        return \textcolor{keyword}{self}->VisitExpr\_(static\_cast<const OP*>(n.get()), \(\backslash\)
                                std::forward<Args>(args)...);          \(\backslash\)
      \});
\end{DoxyCode}
