\hypertarget{pattern__functor_8h}{}\section{include/tvm/relay/pattern\+\_\+functor.h File Reference}
\label{pattern__functor_8h}\index{include/tvm/relay/pattern\+\_\+functor.\+h@{include/tvm/relay/pattern\+\_\+functor.\+h}}


A more powerful visitor on A\+DT patterns that enables defining arbitrary function signatures with type-\/based dispatch on first argument.  


{\ttfamily \#include $<$tvm/node/functor.\+h$>$}\\*
{\ttfamily \#include $<$tvm/ir/error.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$utility$>$}\\*
{\ttfamily \#include $<$unordered\+\_\+map$>$}\\*
{\ttfamily \#include \char`\"{}./expr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}./op.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}./adt.\+h\char`\"{}}\\*
Include dependency graph for pattern\+\_\+functor.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pattern__functor_8h__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classtvm_1_1relay_1_1PatternFunctor}{tvm\+::relay\+::\+Pattern\+Functor$<$ F\+Type $>$}
\begin{DoxyCompactList}\small\item\em A dynamical functor on A\+DT patterns that dispatches on its first argument. You can use this as a more powerful visitor, since it allows you to define the types of further arguments to Visit\+Pattern. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1relay_1_1PatternFunctor_3_01R_07const_01Pattern_01_6n_00_01Args_8_8_8_08_4}{tvm\+::relay\+::\+Pattern\+Functor$<$ R(const Pattern \&n, Args...)$>$}
\item 
class \hyperlink{classtvm_1_1relay_1_1PatternVisitor}{tvm\+::relay\+::\+Pattern\+Visitor}
\begin{DoxyCompactList}\small\item\em A simple visitor wrapper around \hyperlink{classtvm_1_1relay_1_1PatternFunctor}{Pattern\+Functor}. \end{DoxyCompactList}\item 
class \hyperlink{classtvm_1_1relay_1_1PatternMutator}{tvm\+::relay\+::\+Pattern\+Mutator}
\begin{DoxyCompactList}\small\item\em A wrapper around \hyperlink{classtvm_1_1relay_1_1ExprFunctor}{Expr\+Functor} which functionally updates the A\+ST. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacetvm}{tvm}
\item 
 \hyperlink{namespacetvm_1_1relay}{tvm\+::relay}
\begin{DoxyCompactList}\small\item\em Relay\+: a high level functional IR for T\+VM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pattern__functor_8h_ac72a5016a4b58a73ed7e7652c7a876d7}{P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}~\{ return Visit\+Pattern\+Default\+\_\+(op, std\+::forward$<$Args$>$(args)...); \}
\item 
\#define \hyperlink{pattern__functor_8h_a13148fe77ea6e32c9dbeb05ddc37fa77}{R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}(OP)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A more powerful visitor on A\+DT patterns that enables defining arbitrary function signatures with type-\/based dispatch on first argument. 



\subsection{Macro Definition Documentation}
\index{pattern\+\_\+functor.\+h@{pattern\+\_\+functor.\+h}!P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT@{P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}}
\index{P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT@{P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}!pattern\+\_\+functor.\+h@{pattern\+\_\+functor.\+h}}
\subsubsection[{\texorpdfstring{P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT}{PATTERN_FUNCTOR_DEFAULT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+E\+F\+A\+U\+LT~\{ return Visit\+Pattern\+Default\+\_\+(op, std\+::forward$<$Args$>$(args)...); \}}\hypertarget{pattern__functor_8h_ac72a5016a4b58a73ed7e7652c7a876d7}{}\label{pattern__functor_8h_ac72a5016a4b58a73ed7e7652c7a876d7}
\index{pattern\+\_\+functor.\+h@{pattern\+\_\+functor.\+h}!R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH@{R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}}
\index{R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH@{R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}!pattern\+\_\+functor.\+h@{pattern\+\_\+functor.\+h}}
\subsubsection[{\texorpdfstring{R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH}{RELAY_PATTERN_FUNCTOR_DISPATCH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+L\+A\+Y\+\_\+\+P\+A\+T\+T\+E\+R\+N\+\_\+\+F\+U\+N\+C\+T\+O\+R\+\_\+\+D\+I\+S\+P\+A\+T\+CH(
\begin{DoxyParamCaption}
\item[{}]{OP}
\end{DoxyParamCaption}
)}\hypertarget{pattern__functor_8h_a13148fe77ea6e32c9dbeb05ddc37fa77}{}\label{pattern__functor_8h_a13148fe77ea6e32c9dbeb05ddc37fa77}
{\bfseries Value\+:}
\begin{DoxyCode}
vtable.template set\_dispatch<OP>(                                       \(\backslash\)
      [](\textcolor{keyword}{const} ObjectRef& n, TSelf* \textcolor{keyword}{self}, Args... args) \{                   \(\backslash\)
        return \textcolor{keyword}{self}->VisitPattern\_(static\_cast<const OP*>(n.get()), \(\backslash\)
                                   std::forward<Args>(args)...);          \(\backslash\)
      \});
\end{DoxyCode}
