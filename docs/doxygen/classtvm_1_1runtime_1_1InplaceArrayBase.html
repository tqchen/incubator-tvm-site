<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tvm: tvm::runtime::InplaceArrayBase&lt; ArrayType, ElemType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tvm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetvm.html">tvm</a></li><li class="navelem"><a class="el" href="namespacetvm_1_1runtime.html">runtime</a></li><li class="navelem"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">InplaceArrayBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classtvm_1_1runtime_1_1InplaceArrayBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tvm::runtime::InplaceArrayBase&lt; ArrayType, ElemType &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base template for classes with array like memory layout.  
 <a href="classtvm_1_1runtime_1_1InplaceArrayBase.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="runtime_2container_8h_source.html">container.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for tvm::runtime::InplaceArrayBase&lt; ArrayType, ElemType &gt;:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classtvm_1_1runtime_1_1InplaceArrayBase__coll__graph.svg" width="226" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a68c9bdbfd3a02ade0965972a0cd508cc"><td class="memItemLeft" align="right" valign="top">const ElemType &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html#a68c9bdbfd3a02ade0965972a0cd508cc">operator[]</a> (size_t idx) const </td></tr>
<tr class="memdesc:a68c9bdbfd3a02ade0965972a0cd508cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access element at index.  <a href="#a68c9bdbfd3a02ade0965972a0cd508cc">More...</a><br /></td></tr>
<tr class="separator:a68c9bdbfd3a02ade0965972a0cd508cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b37b5fcd2285b818e8f623da8b326b2"><td class="memItemLeft" align="right" valign="top">ElemType &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html#a4b37b5fcd2285b818e8f623da8b326b2">operator[]</a> (size_t idx)</td></tr>
<tr class="memdesc:a4b37b5fcd2285b818e8f623da8b326b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access element at index.  <a href="#a4b37b5fcd2285b818e8f623da8b326b2">More...</a><br /></td></tr>
<tr class="separator:a4b37b5fcd2285b818e8f623da8b326b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1cf3446de62c7aba99235f2843f839f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html#ad1cf3446de62c7aba99235f2843f839f">~InplaceArrayBase</a> ()</td></tr>
<tr class="memdesc:ad1cf3446de62c7aba99235f2843f839f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the Inplace <a class="el" href="classtvm_1_1Array.html" title="Array container of NodeRef in DSL graph. Array implements copy on write semantics, which means array is mutable but copy will happen when array is referenced in more than two places. ">Array</a> Base object.  <a href="#ad1cf3446de62c7aba99235f2843f839f">More...</a><br /></td></tr>
<tr class="separator:ad1cf3446de62c7aba99235f2843f839f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7900079ae38be41d93b522239d3ba4f2"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a7900079ae38be41d93b522239d3ba4f2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html#a7900079ae38be41d93b522239d3ba4f2">EmplaceInit</a> (size_t idx, Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a7900079ae38be41d93b522239d3ba4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a value in place with the arguments.  <a href="#a7900079ae38be41d93b522239d3ba4f2">More...</a><br /></td></tr>
<tr class="separator:a7900079ae38be41d93b522239d3ba4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename ArrayType, typename ElemType&gt;<br />
class tvm::runtime::InplaceArrayBase&lt; ArrayType, ElemType &gt;</h3>

<p>Base template for classes with array like memory layout. </p>
<p>It provides general methods to access the memory. The memory layout is ArrayType + [ElemType]. The alignment of ArrayType and ElemType is handled by the memory allocator.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ArrayType</td><td>The array header type, contains object specific metadata. </td></tr>
    <tr><td class="paramname">ElemType</td><td>The type of objects stored in the array right after ArrayType.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="comment">// Example usage of the template to define a simple array wrapper</span></div><div class="line"><span class="keyword">class </span>ArrayObj : <span class="keyword">public</span> InplaceArrayBase&lt;ArrayObj, Elem&gt; {</div><div class="line"><span class="keyword">public</span>:</div><div class="line"> <span class="comment">// Wrap EmplaceInit to initialize the elements</span></div><div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Iterator&gt;</div><div class="line"> <span class="keywordtype">void</span> Init(Iterator begin, Iterator end) {</div><div class="line">  <span class="keywordtype">size_t</span> num_elems = std::distance(begin, end);</div><div class="line">  <span class="keyword">auto</span> it = begin;</div><div class="line">  this-&gt;size = 0;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_elems; ++i) {</div><div class="line">    <a class="code" href="classtvm_1_1runtime_1_1InplaceArrayBase.html#a7900079ae38be41d93b522239d3ba4f2">InplaceArrayBase::EmplaceInit</a>(i, *it++);</div><div class="line">    this-&gt;size++;</div><div class="line">  }</div><div class="line"> }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> test_function() {</div><div class="line">  vector&lt;Elem&gt; fields;</div><div class="line">  <span class="keyword">auto</span> ptr = make_inplace_array_object&lt;ArrayObj, Elem&gt;(fields.size());</div><div class="line">  ptr-&gt;Init(fields.begin(), fields.end());</div><div class="line"></div><div class="line">  <span class="comment">// Access the 0th element in the array.</span></div><div class="line">  assert(ptr-&gt;operator[](0) == fields[0]);</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad1cf3446de62c7aba99235f2843f839f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ArrayType, typename ElemType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">tvm::runtime::InplaceArrayBase</a>&lt; ArrayType, ElemType &gt;::~<a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">InplaceArrayBase</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the Inplace <a class="el" href="classtvm_1_1Array.html" title="Array container of NodeRef in DSL graph. Array implements copy on write semantics, which means array is mutable but copy will happen when array is referenced in more than two places. ">Array</a> Base object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7900079ae38be41d93b522239d3ba4f2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ArrayType, typename ElemType&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">tvm::runtime::InplaceArrayBase</a>&lt; ArrayType, ElemType &gt;::EmplaceInit </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a value in place with the arguments. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td><a class="el" href="classtvm_1_1Type.html" title="Managed reference to TypeNode. ">Type</a> parameters of the arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>Index of the element. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to construct the new value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Please make sure ArrayType::GetSize returns 0 before first call of EmplaceInit, and increment GetSize by 1 each time EmplaceInit succeeds. </dd></dl>

</div>
</div>
<a class="anchor" id="a68c9bdbfd3a02ade0965972a0cd508cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ArrayType, typename ElemType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ElemType&amp; <a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">tvm::runtime::InplaceArrayBase</a>&lt; ArrayType, ElemType &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access element at index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>The index of the element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Const reference to ElemType at the index. </dd></dl>

</div>
</div>
<a class="anchor" id="a4b37b5fcd2285b818e8f623da8b326b2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ArrayType, typename ElemType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ElemType&amp; <a class="el" href="classtvm_1_1runtime_1_1InplaceArrayBase.html">tvm::runtime::InplaceArrayBase</a>&lt; ArrayType, ElemType &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access element at index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>The index of the element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to ElemType at the index. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/tvm/runtime/<a class="el" href="runtime_2container_8h_source.html">container.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
