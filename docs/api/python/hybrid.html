

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tvm.hybrid &mdash; tvm 0.7.dev1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/tvm-logo-square.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/tvm_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tvm.relay" href="relay/index.html" />
    <link rel="prev" title="tvm.contrib.graph_runtime" href="graph_runtime.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.7.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vta/index.html">VTA: Deep Learning Accelerator Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/index.html">Deploy and Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute to TVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../langref/index.html">Language Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="runtime.html">tvm.runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="ndarray.html">tvm.runtime.ndarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="error.html">tvm.error</a></li>
<li class="toctree-l2"><a class="reference internal" href="ir.html">tvm.ir</a></li>
<li class="toctree-l2"><a class="reference internal" href="target.html">tvm.target</a></li>
<li class="toctree-l2"><a class="reference internal" href="tir.html">tvm.tir</a></li>
<li class="toctree-l2"><a class="reference internal" href="tir.html#module-tvm.tir.transform">tvm.tir.transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="te.html">tvm.te</a></li>
<li class="toctree-l2"><a class="reference internal" href="driver.html">tvm.driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="autotvm.html">tvm.autotvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="rpc.html">tvm.rpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib.html">tvm.contrib</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph_runtime.html">tvm.contrib.graph_runtime</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">tvm.hybrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="relay/index.html">tvm.relay</a></li>
<li class="toctree-l2"><a class="reference internal" href="vta/index.html">vta</a></li>
<li class="toctree-l2"><a class="reference internal" href="topi.html">topi</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_links.html">Links to API References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/index.html">Design and Developer Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../frontend/tensorflow.html">TensorFlow Frontend</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tvm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Python API</a> &raquo;</li>
        
      <li>tvm.hybrid</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/python/hybrid.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tvm.hybrid">
<span id="tvm-hybrid"></span><h1>tvm.hybrid<a class="headerlink" href="#module-tvm.hybrid" title="Permalink to this headline">¶</a></h1>
<p>Hybrid Programming APIs of TVM Python Package.</p>
<p>This package maps a subset of python to HalideIR so that:
1. Users can write some preliminary versions of the computation patterns
have not been supported yet and verify it across the real execution and
python semantic emulation.
2. So far, it is a text format dedicated to HalideIR Phase 0. Refer tvm.lower
for more details. A larger ambition of this module is to support all levels of
HalideIR.</p>
<p><strong>Classes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tvm.hybrid.HybridModule" title="tvm.hybrid.HybridModule"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HybridModule</span></code></a>([src, name])</p></td>
<td><p>The usage of Hybrid Module is very similar to conventional TVM module, but conventional TVM module requires a function body which is already fully lowered.</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tvm.hybrid.build" title="tvm.hybrid.build"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build</span></code></a>(sch, inputs, outputs[, name])</p></td>
<td><p>Dump the corrent schedule to hybrid module</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tvm.hybrid.decorate" title="tvm.hybrid.decorate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decorate</span></code></a>(func, fwrapped)</p></td>
<td><p>A wrapper call of decorator package, differs to call time</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tvm.hybrid.form_body" title="tvm.hybrid.form_body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">form_body</span></code></a>(sch)</p></td>
<td><p>According to the given schedule, form the raw body</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tvm.hybrid.script" title="tvm.hybrid.script"><code class="xref py py-obj docutils literal notranslate"><span class="pre">script</span></code></a>(pyfunc)</p></td>
<td><p>Decorate a python function function as hybrid script.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tvm.hybrid.source_to_op" title="tvm.hybrid.source_to_op"><code class="xref py py-obj docutils literal notranslate"><span class="pre">source_to_op</span></code></a>(src, args, symbols, closure_vars)</p></td>
<td><p>Another level of wrapper</p></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="tvm.hybrid.form_body">
<code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">form_body</code><span class="sig-paren">(</span><em class="sig-param">sch</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.form_body" title="Permalink to this definition">¶</a></dt>
<dd><p>According to the given schedule, form the raw body
:param sch:
:type sch: tvm.te.schedule.Schedule
:param The given scheduler to form the raw body:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The body formed according to the given schedule</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tvm.hybrid.decorate">
<code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">decorate</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">fwrapped</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.decorate" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper call of decorator package, differs to call time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – The original function</p></li>
<li><p><strong>fwrapped</strong> (<em>function</em>) – The wrapped function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tvm.hybrid.HybridModule">
<em class="property">class </em><code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">HybridModule</code><span class="sig-paren">(</span><em class="sig-param">src=None</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.HybridModule" title="Permalink to this definition">¶</a></dt>
<dd><p>The usage of Hybrid Module is very similar to conventional TVM module,
but conventional TVM module requires a function body which is already fully
lowered. This contradicts to the fact that Hybrid Module is originally a text
format for Phase 0 HalideIR. Thus, a totally separated module is defined.</p>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tvm.hybrid.HybridModule.load" title="tvm.hybrid.HybridModule.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(path)</p></td>
<td><p>Load the module from a python file</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tvm.hybrid.HybridModule.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.HybridModule.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the module from a python file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the given python file</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tvm.hybrid.source_to_op">
<code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">source_to_op</code><span class="sig-paren">(</span><em class="sig-param">src</em>, <em class="sig-param">args</em>, <em class="sig-param">symbols</em>, <em class="sig-param">closure_vars</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.source_to_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Another level of wrapper</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>ast.node</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – If an ast.node, then directly lower it.
If a str, then parse it to ast and lower it.</p></li>
<li><p><strong>args</strong> (<em>list of Tensors</em><em> or </em><em>Vars</em>) – The argument lists to the function.
It is NOT encouraged to write a function without arguments.
It is NOT encouraged to write a function with side effect.</p></li>
<li><p><strong>symbols</strong> (<em>list of str</em>) – The symbol list of the global context of the function.</p></li>
<li><p><strong>closure_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – A dict of external name reference captured by this function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>res</strong> – The result of output tensors of the formed OpNode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of output tensors</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tvm.hybrid.script">
<code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">script</code><span class="sig-paren">(</span><em class="sig-param">pyfunc</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.script" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate a python function function as hybrid script.</p>
<p>The hybrid function support emulation mode and parsing to
the internal language IR.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>hybrid_func</strong> – A decorated hybrid script function.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>function</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tvm.hybrid.build">
<code class="sig-prename descclassname">tvm.hybrid.</code><code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param">sch</em>, <em class="sig-param">inputs</em>, <em class="sig-param">outputs</em>, <em class="sig-param">name='hybrid_func'</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.hybrid.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump the corrent schedule to hybrid module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sch</strong> (<a class="reference internal" href="te.html#tvm.te.Schedule" title="tvm.te.Schedule"><em>Schedule</em></a>) – The schedule to be dumped</p></li>
<li><p><strong>inputs</strong> (<em>An array of Tensors</em><em> or </em><em>Vars</em>) – The inputs of the function body</p></li>
<li><p><strong>outputs</strong> (<em>An array of Tensors</em>) – The outputs of the function body</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>module</strong> – The built results is wrapped in a HybridModule.
The usage of HybridModule is roughly the same as normal TVM-built modules.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#tvm.hybrid.HybridModule" title="tvm.hybrid.HybridModule">HybridModule</a></p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="relay/index.html" class="btn btn-neutral float-right" title="tvm.relay" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="graph_runtime.html" class="btn btn-neutral float-left" title="tvm.contrib.graph_runtime" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Apache Software Foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>