

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tvm.contrib.graph_runtime &mdash; tvm 0.7.dev1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/tvm-logo-square.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/tvm_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tvm.hybrid" href="hybrid.html" />
    <link rel="prev" title="tvm.contrib" href="contrib.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.7.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vta/index.html">VTA: Deep Learning Accelerator Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/index.html">Deploy and Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute to TVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../langref/index.html">Language Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="runtime.html">tvm.runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="ndarray.html">tvm.runtime.ndarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="error.html">tvm.error</a></li>
<li class="toctree-l2"><a class="reference internal" href="ir.html">tvm.ir</a></li>
<li class="toctree-l2"><a class="reference internal" href="target.html">tvm.target</a></li>
<li class="toctree-l2"><a class="reference internal" href="tir.html">tvm.tir</a></li>
<li class="toctree-l2"><a class="reference internal" href="tir.html#module-tvm.tir.transform">tvm.tir.transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="te.html">tvm.te</a></li>
<li class="toctree-l2"><a class="reference internal" href="driver.html">tvm.driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="autotvm.html">tvm.autotvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="rpc.html">tvm.rpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib.html">tvm.contrib</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">tvm.contrib.graph_runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="hybrid.html">tvm.hybrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="relay/index.html">tvm.relay</a></li>
<li class="toctree-l2"><a class="reference internal" href="vta/index.html">vta</a></li>
<li class="toctree-l2"><a class="reference internal" href="topi.html">topi</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_links.html">Links to API References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/index.html">Design and Developer Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../frontend/tensorflow.html">TensorFlow Frontend</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tvm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Python API</a> &raquo;</li>
        
      <li>tvm.contrib.graph_runtime</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/python/graph_runtime.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tvm.contrib.graph_runtime">
<span id="tvm-contrib-graph-runtime"></span><h1>tvm.contrib.graph_runtime<a class="headerlink" href="#module-tvm.contrib.graph_runtime" title="Permalink to this headline">¶</a></h1>
<p>Minimum graph runtime that executes graph containing TVM PackedFunc.</p>
<dl class="function">
<dt id="tvm.contrib.graph_runtime.create">
<code class="sig-prename descclassname">tvm.contrib.graph_runtime.</code><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">graph_json_str</em>, <em class="sig-param">libmod</em>, <em class="sig-param">ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a runtime executor module given a graph and module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph_json_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>graph class</em>) – The graph to be deployed in json format output by json graph.
The graph can only contain one operator(tvm_op) that
points to the name of PackedFunc in the libmod.</p></li>
<li><p><strong>libmod</strong> (<a class="reference internal" href="runtime.html#tvm.runtime.Module" title="tvm.runtime.Module"><em>tvm.runtime.Module</em></a>) – The module of the corresponding function</p></li>
<li><p><strong>ctx</strong> (<a class="reference internal" href="runtime.html#tvm.runtime.TVMContext" title="tvm.runtime.TVMContext"><em>TVMContext</em></a><em> or </em><em>list of TVMContext</em>) – The context to deploy the module. It can be local or remote when there
is only one TVMContext. Otherwise, the first context in the list will
be used as this purpose. All context should be given for heterogeneous
execution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>graph_module</strong> – Runtime graph module that can be used to execute the graph.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#tvm.contrib.graph_runtime.GraphModule" title="tvm.contrib.graph_runtime.GraphModule">GraphModule</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tvm.contrib.graph_runtime.get_device_ctx">
<code class="sig-prename descclassname">tvm.contrib.graph_runtime.</code><code class="sig-name descname">get_device_ctx</code><span class="sig-paren">(</span><em class="sig-param">libmod</em>, <em class="sig-param">ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.get_device_ctx" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and validate all the device context(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>libmod</strong> (<a class="reference internal" href="runtime.html#tvm.runtime.Module" title="tvm.runtime.Module"><em>tvm.runtime.Module</em></a>) – The module of the corresponding function</p></li>
<li><p><strong>ctx</strong> (<a class="reference internal" href="runtime.html#tvm.runtime.TVMContext" title="tvm.runtime.TVMContext"><em>TVMContext</em></a><em> or </em><em>list of TVMContext</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ctx</strong> (<em>list of TVMContext</em>)</p></li>
<li><p><strong>num_rpc_ctx</strong> (<em>Number of rpc contexts</em>)</p></li>
<li><p><strong>device_type_id</strong> (<em>List of device type and device id</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="tvm.contrib.graph_runtime.GraphModule">
<em class="property">class </em><code class="sig-prename descclassname">tvm.contrib.graph_runtime.</code><code class="sig-name descname">GraphModule</code><span class="sig-paren">(</span><em class="sig-param">module</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper runtime module.</p>
<p>This is a thin wrapper of the underlying TVM module.
you can also directly call set_input, run, and get_output
of underlying module functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module</strong> (<a class="reference internal" href="runtime.html#tvm.runtime.Module" title="tvm.runtime.Module"><em>tvm.runtime.Module</em></a>) – The internal tvm module that holds the actual graph functions.</p>
</dd>
</dl>
<dl class="attribute">
<dt id="tvm.contrib.graph_runtime.GraphModule.module">
<code class="sig-name descname">module</code><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.module" title="Permalink to this definition">¶</a></dt>
<dd><p>The internal tvm module that holds the actual graph functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="runtime.html#tvm.runtime.Module" title="tvm.runtime.Module">tvm.runtime.Module</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.set_input">
<code class="sig-name descname">set_input</code><span class="sig-paren">(</span><em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.set_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Set inputs to the module via kwargs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The input key</p></li>
<li><p><strong>value</strong> (<em>the input value.</em>) – The input key</p></li>
<li><p><strong>params</strong> (<em>dict of str to NDArray</em>) – Additional arguments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">**input_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run forward execution of the graph</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_dict</strong> (<em>dict of str to NDArray</em>) – List of input values to be feed to</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.get_num_outputs">
<code class="sig-name descname">get_num_outputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.get_num_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of outputs from the graph</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>count</strong> – The number of outputs.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.get_input">
<code class="sig-name descname">get_input</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.get_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Get index-th input to out</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The input index</p></li>
<li><p><strong>out</strong> (<a class="reference internal" href="ndarray.html#tvm.nd.NDArray" title="tvm.nd.NDArray"><em>NDArray</em></a>) – The output array container</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.get_output">
<code class="sig-name descname">get_output</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.get_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Get index-th output to out</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The output index</p></li>
<li><p><strong>out</strong> (<a class="reference internal" href="ndarray.html#tvm.nd.NDArray" title="tvm.nd.NDArray"><em>NDArray</em></a>) – The output array container</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.debug_get_output">
<code class="sig-name descname">debug_get_output</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">out</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.debug_get_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Run graph up to node and get the output to out</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>int / str</em>) – The node index or name</p></li>
<li><p><strong>out</strong> (<a class="reference internal" href="ndarray.html#tvm.nd.NDArray" title="tvm.nd.NDArray"><em>NDArray</em></a>) – The output array container</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.load_params">
<code class="sig-name descname">load_params</code><span class="sig-paren">(</span><em class="sig-param">params_bytes</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.load_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Load parameters from serialized byte array of parameter dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.8)"><em>bytearray</em></a>) – The serialized parameter dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tvm.contrib.graph_runtime.GraphModule.share_params">
<code class="sig-name descname">share_params</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">params_bytes</em><span class="sig-paren">)</span><a class="headerlink" href="#tvm.contrib.graph_runtime.GraphModule.share_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Share parameters from pre-existing GraphRuntime instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>GraphRuntime</em>) – The parent GraphRuntime from which this instance should share
it’s parameters.</p></li>
<li><p><strong>params_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.8)"><em>bytearray</em></a>) – The serialized parameter dict (used only for the parameter names).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hybrid.html" class="btn btn-neutral float-right" title="tvm.hybrid" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="contrib.html" class="btn btn-neutral float-left" title="tvm.contrib" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Apache Software Foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>